<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>03 BinarySearch | WITHER</title>
<meta name="keywords" content=", ">
<meta name="description" content="Algorithm questions about binary search.">
<meta name="author" content="WITHER">
<link rel="canonical" href="http://localhost:1313/blogs/leetcode/03_binarysearch/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.dd3b5b907a50db3238b81d49d094cf1c04a091227797dc9cfde4e2fa3f35df49.css" integrity="sha256-3TtbkHpQ2zI4uB1J0JTPHASgkSJ3l9yc/eTi&#43;j8130k=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="http://localhost:1313/blogs/leetcode/03_binarysearch/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
<script>
  MathJax = {
    tex: {
      displayMath: [['\\[', '\\]'], ['$$', '$$']],  
      inlineMath: [['\\(', '\\)'], ['$', '$']]  
    }
  };
</script>




<script src="https://cdn.bootcdn.net/ajax/libs/mermaid/9.1.6/mermaid.min.js"></script>
<script>
    mermaid.initialize({
        startOnLoad: true,
        theme: localStorage.getItem("pref-theme") === "dark" ? "dark" : "forest" 
    });
</script>

<meta property="og:url" content="http://localhost:1313/blogs/leetcode/03_binarysearch/">
  <meta property="og:site_name" content="WITHER">
  <meta property="og:title" content="03 BinarySearch">
  <meta property="og:description" content="Algorithm questions about binary search.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="blogs">
    <meta property="article:published_time" content="2025-07-24T09:59:53+08:00">
    <meta property="article:modified_time" content="2025-09-19T09:20:48+08:00">
    <meta property="article:tag" content="Binary Search">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="03 BinarySearch">
<meta name="twitter:description" content="Algorithm questions about binary search.">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Blogs",
      "item": "http://localhost:1313/blogs/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Leetcode",
      "item": "http://localhost:1313/blogs/leetcode/"
    }, 
    {
      "@type": "ListItem",
      "position":  3 ,
      "name": "03 BinarySearch",
      "item": "http://localhost:1313/blogs/leetcode/03_binarysearch/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "03 BinarySearch",
  "name": "03 BinarySearch",
  "description": "Algorithm questions about binary search.",
  "keywords": [
    "", ""
  ],
  "articleBody": "Preliminary: Algorithms for Binary Search in Different Intervals å¯¹äºåœ¨ä¸€ä¸ªæœ‰åºæ•°ç»„é‡Œè¿”å›ç¬¬ä¸€ä¸ª \u003e= target å…ƒç´ çš„ä½ç½®çš„é—®é¢˜ï¼Œå¦‚æœç”¨æš´åŠ›æœç´¢æ³•éå†æ•°ç»„ï¼Œåˆ™æ—¶é—´å¤æ‚åº¦ä¸º $O(n)$ï¼Œè¿™æ˜¯å› ä¸ºæ²¡æœ‰åˆ©ç”¨æ•°ç»„æœ‰åºçš„æ€§è´¨ã€‚\nå¯¹äºé—­åŒºé—´å†™æ³•æˆ‘ä»¬åˆå§‹åŒ–ä¸€ä¸ªå·¦æŒ‡é’ˆ left æŒ‡å‘æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œå³æŒ‡é’ˆ right æŒ‡å‘æ•°ç»„ä¸­æœ€åä¸€ä¸ªå…ƒç´ ã€‚è¦ä¿è¯çš„æ˜¯ left å·¦ä¾§çš„å…ƒç´ å…¨éƒ¨éƒ½å°äº target, right å³ä¾§çš„å…ƒç´ å…¨éƒ¨éƒ½å¤§äºç­‰äº targetï¼Œè¿™ä¹Ÿè¢«ç§°ä¸ºå¾ªç¯ä¸å˜é‡ï¼Œå› æ­¤æ›´æ–°çš„æ—¶å€™æˆ‘ä»¬è¦ä»¤ left = mid + 1 æˆ–è€… right = mid - 1. å½“ left \u003c= right æ—¶ï¼ŒåŒºé—´å†…éƒ½æœ‰å…ƒç´ ã€‚å¾ªç¯ç»“æŸåï¼Œæœ‰ L = R + 1. ä¸ºäº†é˜²æ­¢æº¢å‡ºï¼Œè®¡ç®—ä¸­ç‚¹çš„æ—¶å€™è¦å†™æˆ mid = left + (right - left) / 2.\nå·¦é—­å³å¼€åŒºé—´çš„å†™æ³•ï¼Œéœ€è¦æŠŠ right åˆå§‹åŒ–ä¸ºæ•°ç»„é•¿åº¦ï¼Œright = midï¼Œå› ä¸ºæ­¤æ—¶åŒºé—´ä¸åŒ…æ‹¬ rightï¼ŒåŒºé—´ä¸ä¸ºç©ºçš„æƒ…å†µä¸º left \u003c right. å¾ªç¯ç»“æŸå left å’Œ right æŒ‡å‘çš„æ—¶åŒä¸€ä¸ªä½ç½®ï¼Œè¿”å›è°éƒ½å¯ä»¥ã€‚å¯¹äºå·¦å¼€å³é—­åŒºé—´ä¹Ÿæ˜¯åŒç†ã€‚\næ˜¯å·¦å¼€å³å¼€åŒºé—´çš„å†™æ³•ï¼Œéœ€è¦é¢å¤–æŠŠ left åˆå§‹åŒ–ä¸º -1. åŒºé—´ä¸ä¸ºç©ºçš„æ¡ä»¶ä¸º left + 1 \u003c rightï¼Œæ›´æ–°çš„æ˜¯æ—¶å€™éœ€è¦ä¹Ÿä½¿å¾— left = mid. å¾ªç¯ç»“æŸåè¿”å› right.\nå†è€ƒè™‘é¢å¤–çš„ä¸‰ç§æƒ…å†µï¼Œå¦‚æœæ•°ç»„å…ƒç´ éƒ½æ˜¯æ•´æ•°:\n\u003e target å¯ä»¥çœ‹ä½œ \u003e= target + 1 \u003c target å¯ä»¥çœ‹ä½œ \u003e= target å·¦è¾¹çš„é‚£ä¸ªä½ç½®ã€‚ \u003c= target å¯ä»¥çœ‹ä½œ \u003e= target + 1 å·¦è¾¹çš„é‚£ä¸ªä½ç½®ã€‚ Question Type 1: Maintain Properties Outside the Interval 34. Find First and Last Position of Element in Sorted Array é¢˜ç›®ç½‘å€. æˆ‘ä»¬å…ˆæ±‚å‡ºç¬¬ä¸€ä¸ª \u003e= target å…ƒç´ çš„ä½ç½®ï¼Œè®°ä½œ start. å¦‚æœ start == nums.size() åˆ™è¯´æ˜æ•°ç»„æ‰€æœ‰å…ƒç´ éƒ½ \u003c target. å¦‚æœ nums[start] != target å°±è¯´æ˜æ•°ç»„ä¸­ä¸å­˜åœ¨è¿™ä¸ªå…ƒç´ ã€‚\nå¯¹äº target çš„æœ«å°¾ä½ç½®åˆ™å¯ä»¥çœ‹ä½œ \u003e= target + 1 èµ·å§‹ä½ç½®çš„å·¦è¾¹ä¸€ä¸ªå…ƒç´ ï¼Œç”±äº start å­˜åœ¨é‚£ä¹ˆ end è‚¯å®šå­˜åœ¨ (æœ€å·® = start).\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 class Solution { // return the index of a sorted array where its ele \u003e= target int lowerBoundIndex(vector\u003cint\u003e\u0026 nums, int target) { int left = 0, right = nums.size() - 1; while (left \u003c= right) { // loop until the interval is empty, i.e. right + 1 = left int mid = left + (right - left) / 2; // avoid overflow if (nums[mid] \u003c target) { // shows left ele of the interval all \u003c target left = mid + 1; // [mid + 1, right] } else { // shows right ele of the interval all \u003e= target right = mid - 1; // [left, mid - 1] } } return left; } public: vector\u003cint\u003e searchRange(vector\u003cint\u003e\u0026 nums, int target) { int start = lowerBoundIndex(nums, target); // all ele \u003c target || all ele \u003e target if (start == nums.size() || nums[start] != target) return {-1, -1}; int end = lowerBoundIndex(nums, target + 1) - 1; return {start, end}; } }; 2529. Maximum Count of Positive Integer and Negative Integer é¢˜ç›®ç½‘å€. æ€è·¯å’Œä¸Šé¢˜ä¸€æ ·ï¼Œè´Ÿæ•°ä¸ªæ•°å³ä¸ºæ•°ç»„ç¬¬ä¸€ä¸ª \u003e= 0 å…ƒç´ çš„ç´¢å¼•ã€‚æ­£æ•°ä¸ªæ•°å³ä¸ºæ•°ç»„é•¿åº¦å‡å»ç¬¬ä¸€ä¸ª \u003e=1 çš„å…ƒç´ çš„ç´¢å¼•ã€‚lowerBoundIndex å‡½æ•°ä¸€æ ·ï¼Œä¸å†èµ˜è¿°ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 class Solution { public: int maximumCount(vector\u003cint\u003e\u0026 nums) { // Find first index where nums[i] \u003e= 0 (count of negatives) int negCount = lowerBoundIndex(nums, 0); // Find first index where nums[i] \u003e= 1 (start of positives) int startOfPos = lowerBoundIndex(nums, 1); // Positive count is total length minus index of first \u003e= 1 int posCount = nums.size() - startOfPos; return max(negCount, posCount); } }; 2300. Successful Pairs of Spells and Potions é¢˜ç›®ç½‘å€. å¯¹ potions è¿›è¡Œæ’åºï¼Œéå† spellsï¼Œå¯¹äºæ¯ä¸ªå’’è¯­æ‰¾åˆ°æ»¡è¶³ sucess è¦æ±‚çš„æœ€å°è¯æ°´çš„èƒ½é‡å¼ºåº¦å¯¹åº”çš„ç´¢å¼•ï¼Œpotions.size() å‡å»è¯¥ç´¢å¼•åˆ™ä¸ºèƒ½æˆåŠŸé…å¯¹çš„æ•°ç›®ã€‚\nclass Solution { public: vector successfulPairs(vector\u0026 spells, vector\u0026 potions, long long success) { sort(potions.begin(), potions.end()); vector ans; for (int spell : spells) { long long target = ceil((double)success / spell); ans.push_back((int) potions.size() - lowerBoundIndex(potions, target)); } return ans; } }; 2563. Count the Number of Fair Pairs é¢˜ç›®ç½‘å€. å¯¹ nums è¿›è¡Œæ’åºåä»å·¦å¾€å³éå†ï¼Œå¯¹äºæ¯ä¸ªå…ƒç´ åœ¨å…¶å³ä¾§æ•°ç»„ä¸­æŸ¥æ‰¾ç¬¬ä¸€ä¸ª \u003e= upper + 1 çš„ç´¢å¼•å’Œç¬¬ä¸€ä¸ª \u003e= lower çš„ç´¢å¼•ï¼Œä¸¤è€…ç›¸å‡åˆ™æ˜¯è¯¥å…ƒç´ çš„å…¬å¹³æ•°å¯¹æ•°ç›®ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 class Solution { int lowerBoundIndex(vector\u003cint\u003e\u0026 nums, int target, int start, int end) { if (start \u003c 0 || end \u003e nums.size() || start \u003e end) { return -1; } int left = start, right = end - 1; while (left \u003c= right) { int mid = left + (right - left) / 2; if (nums[mid] \u003c target) { left = mid + 1; } else { right = mid - 1; } } return left; } public: long long countFairPairs(vector\u003cint\u003e\u0026 nums, int lower, int upper) { if (nums.size() == 1) return 0; long long ans = 0, n = nums.size(); sort(nums.begin(), nums.end());å¤§äº for (int i = 0; i \u003c nums.size(); i++) { int left = lowerBoundIndex(nums, lower - nums[i], i+1, n); int right = lowerBoundIndex(nums, upper + 1 - nums[i], i+1, n); ans += right - left; } return ans; } }; 275. H Index II é¢˜ç›®ç½‘å€. æˆ‘ä»¬éœ€è¦æ‰¾åˆ°ä¸€ä¸ªåˆ†ç•Œç‚¹ midï¼Œä½¿å¾—ä» mid åˆ°æœ«å°¾çš„è®ºæ–‡æ•°é‡ n - mid è‡³å°‘ä¸º citations[mid]. åŒæ—¶ï¼Œæˆ‘ä»¬å¸Œæœ› n - mid å°½å¯èƒ½å°ã€‚æ¢å¥è¯è¯´ï¼Œæˆ‘ä»¬éœ€è¦æ‰¾åˆ°æœ€å°çš„ mid ä½¿å¾— citations[mid] \u003e= n - midï¼Œè¿™æ · h = n - mid å°±æ˜¯æ»¡è¶³æ¡ä»¶çš„æœ€å¤§å€¼ã€‚\næ ¹æ®é—­åŒºé—´çš„å†™æ³•ï¼Œleft å·¦ä¾§çš„å¼•ç”¨æ¬¡æ•°éƒ½æ»¡è¶³ H index çš„å®šä¹‰ï¼Œå³æˆ‘ä»¬éœ€è¦åˆ¤æ–­æ˜¯å¦æœ‰ n - mid è®ºæ–‡ä¸¥æ ¼å¤§äº citation[mid]. å½“å¾ªç¯ç»“æŸæ—¶ï¼Œleft ä¼šæŒ‡å‘ç¬¬ä¸€ä¸ªæ»¡è¶³ citations[mid] \u003e= n - mid çš„ä½ç½®ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 class Solution { public: int hIndex(vector\u003cint\u003e\u0026 citations) { int left = 0, right = citations.size() - 1, n = citations.size(); while (left \u003c= right) { int mid = left + (right - left) / 2; if (n - mid \u003e citations[mid]) { // try bigger h index, which means smaller mid left = mid + 1; } else { right = mid - 1; } } return n - left; } }; 875. Koko Eating Bananas é¢˜ç›®ç½‘å€. è¿™é‡Œé¢˜ç›®æ„æ€æœ‰ç‚¹éš¾ä»¥ç†è§£ï¼Œæ€»ä¹‹æ¥è¯´å°±æ˜¯åƒæ‰é¦™è•‰èŠ±è´¹æ—¶é—´æ˜¯å‘ä¸Šå–æ•´çš„ã€‚å½“åƒé¦™è•‰çš„æ—¶é—´å°äºç­‰äºè­¦å«å›æ¥çš„é€Ÿåº¦çš„æ—¶å€™æˆ‘ä»¬è®°å½•ä¸‹ç­”æ¡ˆå¹¶å°è¯•æ›´æ…¢çš„é€Ÿåº¦ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 class Solution { public: int minEatingSpeed(vector\u003cint\u003e\u0026 piles, int h) { int left = 1, right = *max_element(piles.begin(), piles.end()), ans = 1; while (left \u003c= right) { int mid = left + (right - left) / 2; // eating speed = piles[mid] long long time = 0; for (int pile : piles) { time += ceil((double) pile / mid); // convert to double to avoid truncation } if (time \u003c= h) { // try slower speed ans = mid; right = mid - 1; } else { // too slow to eat all piles left = mid + 1; } } return ans; } }; 2187. Minimum Time to Complete Trips é¢˜ç›®ç½‘å€. ä¸€æ ·çš„æ€è·¯ï¼Œåˆ¤æ–­ mid æ—¶é—´å†…èƒ½å®Œæˆçš„è¶Ÿæ•°æ˜¯å¦æ»¡è¶³è¦æ±‚ï¼Œè‹¥æ»¡è¶³åˆ™å°è¯•æ›´çŸ­çš„æ—¶é—´ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 class Solution { public: long long minimumTime(vector\u003cint\u003e\u0026 time, int totalTrips) { long long left = 1; long long right = ranges::min(time) * 1LL * totalTrips; long long ans = 1; while (left \u003c= right) { long long mid = left + (right - left) / 2; long long curTrips = 0; for (int t : time) { curTrips += mid / t; } if (curTrips \u003c totalTrips) { // not enough left = mid + 1; } else { ans = mid; right = mid - 1; } } return ans; } }; 2861. Maximum Number of Alloys é¢˜ç›®ç½‘å€.\néå†æ¯ä¸€ç§åˆé‡‘é…æ–¹ï¼Œè®¡ç®—ä¸€æ¬¡å®ƒæœ€å¤šèƒ½é€ å¤šå°‘ä»¶ã€‚ å¯¹æ¯ç§åˆé‡‘ç”¨äºŒåˆ†æŸ¥æ‰¾æ¥å¯»æ‰¾èƒ½åˆ¶é€ çš„æœ€å¤§æ•°é‡ï¼Œä¸æ–­æ›´æ–°æœ€å¤§å€¼ã€‚ æ¯ä¸€ç§åˆé‡‘æœ€å¤§èƒ½åˆ¶é€ çš„æ•°é‡å¯ä»¥åˆå§‹åŒ–ä¸ºåº“å­˜æœ€å°‘çš„é‡‘å±æ•°é‡åŠ ä¸Š budget (å³å‡è®¾è´­ä¹°é‡‘å±èŠ±è´¹ä¸º 1). åˆ¶é€  mid ä»½éœ€è¦çš„æ€»èŠ±è´¹æˆ‘ä»¬å…ˆéœ€è¦éå†æ¯ç§é‡‘å±éœ€è¦çš„æ•°é‡å’Œå¯¹åº”åº“å­˜çš„å¤§å°ï¼Œä»¥åˆ¤æ–­éœ€ä¸éœ€è¦é¢å¤–è´­ä¹°ã€‚ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 class Solution { public: int maxNumberOfAlloys(int n, int k, int budget, vector\u003cvector\u003cint\u003e\u003e\u0026 composition, vector\u003cint\u003e\u0026 stock, vector\u003cint\u003e\u0026 cost) { long long ans = 0; // Perform binary search on each alloy for (auto comp : composition) { long long left = 0, right = ranges::min(stock) + budget; long long maxNum = 0; while (left \u003c= right) { long long mid = left + (right - left) / 2; long long totalCost = 0; for (int i = 0; i \u003c n; i++) { // compute the cost to produce mid alloys totalCost += max(0LL, mid * comp[i] - stock[i]) * cost[i]; } if (totalCost \u003c= budget) { maxNum = mid; left = mid + 1; } else { right = mid - 1; } } ans = max(ans, maxNum); } return ans; } }; 2439. Minimize Maximum of Array é¢˜ç›®ç½‘å€. è¿™ç±»æœ€å°åŒ–æœ€å¤§å€¼æˆ–æœ€å¤§åŒ–æœ€å°å€¼çš„é—®é¢˜ï¼Œé€šå¸¸æ˜¯äºŒåˆ†æŸ¥æ‰¾ç­”æ¡ˆçš„ç»å…¸åº”ç”¨åœºæ™¯ã€‚\næˆ‘ä»¬éœ€è¦æ‰¾åˆ°ä¸€ä¸ªæœ€å°çš„ xï¼Œä½¿å¾—æˆ‘ä»¬å¯ä»¥é€šè¿‡æ“ä½œå°†æ•°ç»„ä¸­æ‰€æœ‰å…ƒç´ éƒ½å˜å¾—ä¸å¤§äº x. å‡è®¾è¿™ä¸ªæœ€å°ç­”æ¡ˆæ˜¯ ans.\nå¦‚æœæˆ‘ä»¬å°è¯•ä¸€ä¸ªç›®æ ‡å€¼ x \u003e= ansï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¸€å®šèƒ½åšåˆ° (å› ä¸ºå¦‚æœèƒ½æŠŠæ‰€æœ‰æ•°éƒ½æ§åˆ¶åœ¨ ans ä»¥ä¸‹ï¼Œé‚£æ§åˆ¶åœ¨æ›´å¤§çš„ x ä»¥ä¸‹å½“ç„¶ä¹Ÿå¯ä»¥). å¦‚æœæˆ‘ä»¬å°è¯•ä¸€ä¸ªç›®æ ‡å€¼ x \u003c ansï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¸€å®šåšä¸åˆ° (å› ä¸º ans å·²ç»æ˜¯èƒ½è¾¾åˆ°çš„æœ€å°å€¼äº†). è§£é¢˜çš„å…³é”®æ˜¯å¦‚ä½•åˆ¤æ–­èƒ½å¦å°†æ‰€æœ‰å…ƒç´ å˜å¾— \u003c= x ? å¯¹äºä»»æ„å‰ç¼€ nums[0...k]ï¼Œæ— è®ºå¦‚ä½•å¯¹è¿™ä¸ªå­æ•°ç»„è¿›è¡Œæ“ä½œï¼Œå…¶æ€»å’Œ sum(nums[0...k]) æ˜¯å›ºå®šçš„ï¼Œå› ä¸ºåªèƒ½å‘å·¦ä¼ é€’å€¼ã€‚å› æ­¤ï¼Œæ£€æŸ¥çš„é€»è¾‘å°±æ˜¯ä»å·¦åˆ°å³éå†æ•°ç»„ï¼Œæ£€æŸ¥æ¯ä¸€ä¸ªå‰ç¼€å­æ•°ç»„æ˜¯å¦æ»¡è¶³æ¡ä»¶ã€‚\nè®¡ç®—å‰ç¼€å’Œ prefixSum = nums[0] + ... + nums[i]. å¦‚æœ prefixSum \u003e (i+1) * xï¼Œè¿™æ„å‘³ç€å³ä¾¿æˆ‘ä»¬æŠŠè¿™ä¸ªå‰ç¼€å’Œ prefixSum å®Œç¾åœ°å¹³å‡åˆ†é…ç»™è¿™ i+1 ä¸ªæ•°ï¼Œå®ƒä»¬çš„å¹³å‡å€¼ä¹Ÿå·²ç»è¶…è¿‡ x äº†ã€‚è¿™è¡¨æ˜è¿™ i+1 ä¸ªæ•°ä¸­è‡³å°‘ä¼šæœ‰ä¸€ä¸ªæ•°å¤§äº x. ç”±äºå€¼ä¸èƒ½å‘å³ä¼ é€’ï¼Œè¿™ä¸ªå‰ç¼€å­æ•°ç»„æ— æ³•ä»åˆ«å¤„è·å¾—å¸®åŠ©æ¥å‡å°è‡ªå·±çš„æ€»å’Œï¼Œæ‰€ä»¥è¿™ç§æƒ…å†µæ˜¯ä¸å¯èƒ½å®ç°çš„ã€‚ç›´æ¥è¿”å› false. å¦‚æœéå†å®Œæ‰€æœ‰å‰ç¼€éƒ½æ²¡æœ‰è¿åè¿™ä¸ªæ¡ä»¶ï¼Œè¯´æ˜ç›®æ ‡ x æ˜¯å¯è¡Œçš„ï¼Œè¿”å› true.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 class Solution { bool check(vector\u003cint\u003e\u0026 nums, long long target) { long long prefixSum = 0; for (int i = 0; i \u003c nums.size(); i++) { prefixSum += nums[i]; if (prefixSum \u003e target * (i + 1)) return false; } return true; } public: int minimizeArrayValue(vector\u003cint\u003e\u0026 nums) { int left = nums[0]; // nums[0] cannot decrease during process int right = ranges::max(nums); while (left \u003c= right) { int mid = left + (right - left) / 2; if (!check(nums, mid)) { // cannot find min max \u003c mid left = mid + 1; } else { right = mid - 1; } } return left; } }; 2517. Maximum Tastiness of Candy Basket é¢˜ç›®ç½‘å€. æ€è·¯ä¸ä¸Šé¢˜ç›¸åŒï¼Œå…³é”®æ˜¯ç»™å®šä¸€ä¸ªç›®æ ‡ç”œèœœåº¦ xï¼Œå¦‚ä½•åˆ¤æ–­èƒ½å¦é€‰å‡º k ä¸ªç³–æœï¼Œä½¿å¾—å®ƒä»¬ä¸¤ä¸¤ä»·æ ¼å·®è‡³å°‘ä¸º x ? è¿™é‡Œå¯ä»¥ä½¿ç”¨è´ªå¿ƒç­–ç•¥ã€‚ä¸ºäº†è®©ç³–æœä¹‹é—´çš„é—´éš”å°½å¯èƒ½å¤§ï¼Œæˆ‘ä»¬åº”è¯¥è®©å®ƒä»¬åœ¨ä»·æ ¼è½´ä¸Šæ‹‰å¾—æ›´å¼€ã€‚\nå¯¹ price æ•°ç»„è¿›è¡Œå‡åºæ’åºã€‚ä»¥ä¾¿åœ¨ä¸€ä¸ªæœ‰åºçš„åºåˆ—ä¸Šè¿›è¡Œè´ªå¿ƒé€‰æ‹©ã€‚\nè¿›è¡Œè´ªå¿ƒç®—æ³•é€‰æ‹©ç³–æœã€‚\né€‰æ‹©ä»·æ ¼æœ€ä½çš„ç³–æœ price[0] ä½œä¸ºæˆ‘ä»¬ç¤¼ç›’ä¸­çš„ç¬¬ä¸€é¢—ç³–æœã€‚ å‘åéå†æ’åºåçš„ price æ•°ç»„ï¼Œå¯»æ‰¾ä¸‹ä¸€é¢—å¯ä»¥æ”¾å…¥ç¤¼ç›’çš„ç³–æœã€‚è¦æ»¡è¶³ç”œèœœåº¦ä¸º x çš„æ¡ä»¶ï¼Œä¸‹ä¸€é¢—ç³–æœçš„ä»·æ ¼å¿…é¡»ä¸æˆ‘ä»¬ä¸Šä¸€é¢—é€‰å®šçš„ç³–æœçš„ä»·æ ¼å·®è‡³å°‘ä¸º x. å‡è®¾ä¸Šä¸€é¢—é€‰çš„ç³–æœä»·æ ¼æ˜¯ last_priceï¼Œåœ¨æ•°ç»„ä¸­ç»§ç»­å¾€åæ‰¾ï¼Œç›´åˆ°æ‰¾åˆ°ç¬¬ä¸€ä¸ª price[i] æ»¡è¶³ price[i] \u003e= last_price + x. æŠŠè¿™é¢—ç³–æœé€‰å…¥ç¤¼ç›’ï¼Œæ›´æ–° last_price = price[i]ï¼Œç„¶åç»§ç»­ç”¨åŒæ ·çš„æ–¹æ³•å¯»æ‰¾ä¸‹ä¸€é¢—ã€‚ ç»Ÿè®¡ä¸€å…±é€‰å‡ºäº†å¤šå°‘é¢—ç³–æœã€‚å¦‚æœæœ€ç»ˆé€‰å‡ºçš„ç³–æœæ•°é‡ count \u003e= kï¼Œé‚£ä¹ˆè¯´æ˜ç”œèœœåº¦ x æ˜¯å¯ä»¥å®ç°çš„ï¼Œè¿”å› true. å¦åˆ™ï¼Œè¿”å› false.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 class Solution { bool check(vector\u003cint\u003e\u0026 price, int k, int target) { // greedy: always choose first int count = 1; int last_price = price[0]; for (int i = 1; i \u003c price.size(); i++) { if (price[i] - last_price \u003e= target) { count++; last_price = price[i]; } } return count \u003e= k; } public: int maximumTastiness(vector\u003cint\u003e\u0026 price, int k) { sort(price.begin(), price.end()); int left = 0, right = ranges::max(price) - price[0]; int ans = 0; while (left \u003c= right) { int mid = left + (right - left) / 2; if (check(price, k, mid)) { // can find k-1 diff \u003e= mid Tastiness ans = mid; left = mid + 1; } else { right = mid - 1; } } return ans; } }; Question Type 2: Select the Half where the Answer is Located 162. Find Peak Element é¢˜ç›®ç½‘å€. ä¼ ç»Ÿçš„äºŒåˆ†æŸ¥æ‰¾ä¾èµ–äºæ•°ç»„çš„ å•è°ƒæ€§ (å®Œå…¨æœ‰åº). æ¯”å¦‚ï¼Œæˆ‘ä»¬è¦æŸ¥æ‰¾ä¸€ä¸ªæ•° targetï¼Œæˆ‘ä»¬ä¼šæ¯”è¾ƒ nums[mid] å’Œ targetï¼š\nå¦‚æœ nums[mid] \u003c targetï¼Œæˆ‘ä»¬å°±çŸ¥é“ target ä¸å¯èƒ½åœ¨å·¦åŠéƒ¨åˆ†ã€‚ å¦‚æœ nums[mid] \u003e targetï¼Œæˆ‘ä»¬å°±çŸ¥é“ target ä¸å¯èƒ½åœ¨å³åŠéƒ¨åˆ†ã€‚ ç„¶è€Œï¼Œåœ¨æœ¬é¢˜ä¸­ï¼Œæ•°ç»„ nums ä¸æ˜¯æœ‰åºçš„ã€‚é‚£å‡­ä»€ä¹ˆå¯ä»¥èˆå¼ƒä¸€åŠçš„åŒºé—´å‘¢ï¼Ÿè¿™é‡Œçš„å…³é”®åœ¨äºï¼Œæˆ‘ä»¬ä¸æ˜¯åœ¨æ‰¾ä¸€ä¸ªç‰¹å®šçš„å€¼ï¼Œè€Œæ˜¯åœ¨æ‰¾ä¸€ä¸ªæ»¡è¶³ ç‰¹å®šæ€§è´¨ (å³ä¸ºå³°å€¼) çš„å…ƒç´ ã€‚äºŒåˆ†æŸ¥æ‰¾çš„æœ¬è´¨æ˜¯é€šè¿‡æ¯ä¸€æ­¥åˆ¤æ–­ï¼Œå°†æœç´¢ç©ºé—´ç¼©å°ä¸€åŠã€‚æˆ‘ä»¬æ¥çœ‹çœ‹åœ¨è¿™ä¸ªé—®é¢˜é‡Œå¦‚ä½•åšåˆ°è¿™ä¸€ç‚¹ã€‚\næˆ‘ä»¬å–ä¸­é—´å…ƒç´  nums[mid]ï¼Œå¹¶è§‚å¯Ÿå®ƒå’Œå®ƒå³è¾¹é‚»å±… nums[mid+1] çš„å…³ç³»ï¼š\nå¦‚æœ nums[mid] \u003c nums[mid+1]: è¿™æ„å‘³ç€ nums[mid] æœ¬èº«è‚¯å®šä¸æ˜¯å³°å€¼ (å› ä¸ºå®ƒæ¯”å³è¾¹çš„å°)ã€‚æ›´é‡è¦çš„æ˜¯ï¼Œè¿™è¡¨æ˜ ä» mid åˆ° mid+1 å¤„ï¼Œæ•°ç»„æ˜¯ä¸Šå¡çš„ã€‚æ—¢ç„¶æ˜¯ä¸Šå¡ï¼Œé‚£ä¹ˆåªè¦æˆ‘ä»¬ä¸€ç›´å¾€å³èµ°å°±å¿…ç„¶ ä¼šé‡åˆ°ä¸€ä¸ªå³°å€¼ã€‚ä¸ºä»€ä¹ˆï¼Ÿå› ä¸ºæ•°ç»„çš„å³è¾¹ç•Œæ˜¯è´Ÿæ— ç©·ï¼Œä½ ä¸å¯èƒ½æ— é™åœ°ä¸Šå¡ï¼Œæ€»ä¼šæœ‰ä¸€ä¸ªç‚¹å¼€å§‹ä¸‹å¡ï¼Œé‚£ä¸ªè½¬æŠ˜ç‚¹å°±æ˜¯ä¸€ä¸ªå³°å€¼ã€‚\nå› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥æ–­å®šåœ¨ mid çš„å³ä¾§åŒºåŸŸ (å³ [mid + 1, right]) å¿…å®šå­˜åœ¨ä¸€ä¸ªå³°å€¼ã€‚äºæ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥å®‰å…¨åœ°èˆå¼ƒå·¦åŠéƒ¨åˆ†ï¼Œä»¤ left = mid + 1.\nå¦‚æœ nums[mid] \u003e nums[mid+1]: è¿™æ„å‘³ç€ nums[mid] æœ¬èº«å¯èƒ½æ˜¯ä¸€ä¸ªå³°å€¼ (å¦‚æœå®ƒä¹Ÿå¤§äºå·¦è¾¹çš„ nums[mid-1]). æ›´é‡è¦çš„æ˜¯ï¼Œè¿™è¡¨æ˜ ä» mid åˆ° mid+1 å¤„ï¼Œæ•°ç»„æ˜¯ä¸‹å¡çš„ã€‚æ—¢ç„¶æ˜¯ä¸‹å¡ï¼Œé‚£ä¹ˆå¾€å·¦çœ‹ï¼Œmid çš„å·¦ä¾§åŒºåŸŸå¿…ç„¶å­˜åœ¨ä¸€ä¸ªå³°å€¼ã€‚ä¸ºä»€ä¹ˆï¼Ÿå› ä¸ºæ•°ç»„çš„å·¦è¾¹ç•Œæ˜¯è´Ÿæ— ç©·ï¼Œä¸å¯èƒ½æ— é™åœ°ä¸‹å¡ã€‚åœ¨ mid çš„å·¦è¾¹ï¼Œè¦ä¹ˆ nums[mid] è‡ªå·±å°±æ˜¯ä¸€ä¸ªå³°å€¼ï¼Œè¦ä¹ˆåœ¨å®ƒå·¦è¾¹çš„æŸä¸ªå…ƒç´ æ˜¯å³°å€¼ã€‚\nå› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ æ–­å®š åœ¨ mid åŠ mid çš„å·¦ä¾§åŒºåŸŸ (å³ [left, mid]) å¿…å®šå­˜åœ¨ä¸€ä¸ªå³°å€¼ã€‚äºæ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥å®‰å…¨åœ°èˆå¼ƒå³åŠéƒ¨åˆ†ï¼Œä»¤ right = mid - 1.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 class Solution { public: int findPeakElement(vector\u003cint\u003e\u0026 nums) { if (nums.size() == 1) return 0; int left = 0, right = nums.size() - 2; while (left \u003c= right) { int mid = left + (right - left) / 2; if (nums[mid] \u003e nums[mid + 1]) { // summit is at left of mid right = mid - 1; } else { left = mid + 1; } } return left; } }; 153. Find Minimum in Rotated Sorted Array é¢˜ç›®ç½‘å€. åˆ©ç”¨æ—‹è½¬çš„ç‰¹æ€§ï¼Œå‡è®¾æ•°ç»„ [0, 1, 2, 4, 5, 6, 7] æ—‹è½¬åå˜æˆ [4, 5, 6, 7, 0, 1, 2]. æ—‹è½¬åçš„æ•°ç»„æœ‰ä»¥ä¸‹ç‰¹ç‚¹:\nå®ƒè¢«åˆ†æˆäº†ä¸¤ä¸ªå„è‡ªæœ‰åºçš„éƒ¨åˆ† [4, 5, 6, 7] å’Œ [0, 1, 2]. ç¬¬ä¸€éƒ¨åˆ†çš„æ‰€æœ‰å…ƒç´ éƒ½å¤§äºç¬¬äºŒéƒ¨åˆ†çš„æ‰€æœ‰å…ƒç´ ã€‚ æœ€å°å€¼å°±æ˜¯ç¬¬äºŒéƒ¨åˆ†çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œå®ƒä¹Ÿæ˜¯æ•´ä¸ªæ•°ç»„ä¸­å”¯ä¸€ä¸€ä¸ªæ¯”å®ƒå‰ä¸€ä¸ªå…ƒç´ å°çš„æ•° (æŠŠæ•°ç»„çœ‹ä½œç¯å½¢). äºŒåˆ†æŸ¥æ‰¾çš„æ ¸å¿ƒæ˜¯æ¯æ¬¡éƒ½èˆå¼ƒä¸€åŠä¸å¯èƒ½æ˜¯ç­”æ¡ˆçš„åŒºé—´ã€‚é‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•åˆ¤æ–­è¯¥èˆå¼ƒå“ªä¸€åŠå‘¢ï¼Ÿå…³é”®åœ¨äº nums[mid] å’Œæ•°ç»„ç«¯ç‚¹ nums[right] çš„æ¯”è¾ƒã€‚\nnums[mid] \u003e nums[right]: è¯´æ˜ mid è‚¯å®šåœ¨ç¬¬ä¸€æ®µè¾ƒå¤§çš„æœ‰åºæ•°ç»„é‡Œã€‚ ä¾‹å¦‚ä¸€å¼€å§‹åœ¨ [4, 5, 6, 7, 0, 1, 2] ä¸­ï¼Œright æŒ‡å‘ 2, mid æŒ‡å‘ 7ï¼Œé‚£ä¹ˆè¯´æ˜ mid åœ¨ç¬¬ä¸€æ®µï¼Œé‚£ä¹ˆæœ€å°å€¼ (ä¹Ÿå°±æ˜¯ç¬¬äºŒæ®µçš„å¼€å¤´) ä¸€å®šåœ¨ mid çš„å³è¾¹ã€‚æ‰€ä»¥ï¼Œå¯ä»¥å®‰å…¨åœ°èˆå¼ƒ [left, mid] è¿™ä¸ªåŒºé—´, left = mid + 1.\nnums[mid] \u003c= nums[right]: è¯´æ˜ mid è‚¯å®šåœ¨ç¬¬äºŒæ®µè¾ƒå°çš„æœ‰åºæ•°ç»„é‡Œï¼Œæˆ–è€…æ˜¯æ•°ç»„æ²¡æœ‰æ—‹è½¬çš„æƒ…å†µã€‚ ä¾‹å¦‚ç¬¬äºŒæ¬¡å¾ªç¯åœ¨ [4, 5, 6, 7, 0, 1, 2] ä¸­ï¼Œ mid æŒ‡å‘ 1ï¼Œright æŒ‡å‘ 2ï¼Œè¯´æ˜ mid åœ¨ç¬¬äºŒæ®µï¼Œé‚£ä¹ˆæœ€å°å€¼å¯èƒ½æ˜¯ nums[mid] æœ¬èº«ï¼Œæˆ–è€…åœ¨ mid çš„å·¦è¾¹ã€‚ä¸ºäº†ä¸¥æ ¼åº”ç”¨é—­åŒºé—´çš„å†™æ³•ï¼Œæˆ‘ä»¬å¿…é¡»åšä¸€äº›æ¡ä»¶åˆ¤æ–­å¤„ç†ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 class Solution { public: int findMin(vector\u003cint\u003e\u0026 nums) { int n = nums.size(); if (n == 1) return nums[0]; if (nums[0] \u003c nums[n - 1]) // rotate n times return nums[0]; int left = 0, right = nums.size() - 1; while (left \u003c= right) { int mid = left + (right - left) / 2; if (mid + 1 \u003c n \u0026\u0026 nums[mid] \u003e nums[mid + 1]) // find maximum return nums[mid + 1]; if (mid - 1 \u003e= 0 \u0026\u0026 nums[mid] \u003c nums[mid - 1]) // find minimum return nums[mid]; if (nums[mid] \u003e nums[right]) { // minimum at right slope left = mid + 1; } else { right = mid - 1; } } return nums[left]; } }; 33. Search in Rotated Sorted Array é¢˜ç›®ç½‘å€. å’Œç¬¬ 153 é¢˜ä¸€æ ·ï¼Œæ•°ç»„çš„æ•´ä½“å•è°ƒæ€§è¢«ç ´åäº†ã€‚ä¸€ä¸ªç®€å•çš„ if (target \u003c nums[mid]) åˆ¤æ–­æ— æ³•å‘Šè¯‰æˆ‘ä»¬åº”è¯¥å»å·¦è¾¹è¿˜æ˜¯å³è¾¹ã€‚ä¾‹å¦‚ï¼Œåœ¨ [4,5,6,7,0,1,2] ä¸­æœç´¢ target = 0ï¼Œç¬¬ä¸€æ¬¡å¾ªç¯ mid = 7ï¼Œè™½ç„¶ 0 \u003c 7ï¼Œä½† 0 å´åœ¨ 7 çš„å³è¾¹ã€‚\nä½†æ— è®ºæ•°ç»„å¦‚ä½•æ—‹è½¬ï¼Œå½“æˆ‘ä»¬å–ä¸­ç‚¹ mid æ—¶ï¼Œ[left, mid] å’Œ [mid, right] è¿™ä¸¤ä¸ªåŒºé—´ä¸­ï¼Œè‡³å°‘æœ‰ä¸€ä¸ªæ˜¯å®Œå…¨æœ‰åºçš„ã€‚é¦–å…ˆåˆ¤æ–­ mid æ‰€æŒ‡å‘çš„ä½ç½®æ˜¯å¦ä¸º target. ç„¶åæˆ‘ä»¬å¯ä»¥åˆ¤æ–­ target æ˜¯å¦å­˜åœ¨æœ‰åºéƒ¨åˆ†çš„å­æ•°ç»„ä¸­æ¥ç§»åŠ¨æŒ‡é’ˆï¼Œå¦‚æœå¾ªç¯ç»“æŸäº†ï¼Œè¯´æ˜æ‰¾ä¸åˆ°ã€‚\nnums[left] \u003c= nums[mid]: è¯´æ˜ä» left åˆ° mid çš„å·¦åŠéƒ¨åˆ†æ˜¯å®Œå…¨æœ‰åºçš„ã€‚ æ—¢ç„¶å·¦åŠè¾¹æœ‰åºï¼Œæˆ‘ä»¬å°±å¯ä»¥å‡†ç¡®åˆ¤æ–­ target æ˜¯å¦è½åœ¨è¿™ä¸ªåŒºé—´å†…ï¼šå¦‚æœ target \u003e= nums[left] å¹¶ä¸” target \u003c nums[mid]ï¼Œé‚£ä¹ˆ target å°±åœ¨è¿™ä¸ªæœ‰åºçš„å·¦åŠéƒ¨åˆ†ã€‚æˆ‘ä»¬å°±å»å·¦è¾¹æ‰¾ï¼Œæ›´æ–° right = mid - 1.å¦åˆ™ï¼Œtarget å°±ä¸åœ¨æœ‰åºçš„å·¦åŠéƒ¨åˆ†ï¼Œé‚£å®ƒåªå¯èƒ½åœ¨æ— åºçš„å³åŠéƒ¨åˆ†ã€‚æˆ‘ä»¬å°±å»å³è¾¹æ‰¾ï¼Œæ›´æ–° left = mid + 1.\nnums[left] \u003e nums[mid]: è¯´æ˜æ—‹è½¬ç‚¹åœ¨ [left, mid] ä¹‹é—´ï¼Œå› æ­¤ä» mid åˆ° right çš„å³åŠéƒ¨åˆ†æ˜¯å®Œå…¨æœ‰åºçš„ã€‚ æ—¢ç„¶å³åŠè¾¹æœ‰åºï¼Œæˆ‘ä»¬å°±å¯ä»¥å‡†ç¡®åˆ¤æ–­ target æ˜¯å¦è½åœ¨è¿™ä¸ªåŒºé—´å†…ï¼šæœ target \u003e nums[mid] å¹¶ä¸” target \u003c= nums[right]ï¼Œé‚£ä¹ˆ target å°±åœ¨è¿™ä¸ªæœ‰åºçš„å³åŠéƒ¨åˆ†ã€‚æˆ‘ä»¬å°±å»å³è¾¹æ‰¾ï¼Œæ›´æ–° left = mid + 1. å¦åˆ™ï¼Œtarget å°±ä¸åœ¨æœ‰åºçš„å³åŠéƒ¨åˆ†ï¼Œé‚£å®ƒåªå¯èƒ½åœ¨æ— åºçš„å·¦åŠéƒ¨åˆ†ã€‚æˆ‘ä»¬å°±å»å·¦è¾¹æ‰¾ï¼Œæ›´æ–° right = mid - 1.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 class Solution { public: int search(vector\u003cint\u003e\u0026 nums, int target) { int left = 0, right = nums.size() - 1; while (left \u003c= right) { int mid = left + (right - left) / 2; if (nums[mid] == target) return mid; if (nums[mid] \u003e= nums[left]) { // [left, mid] is sorted if (nums[mid] \u003e target \u0026\u0026 nums[left] \u003c= target) right = mid - 1; else left = mid + 1; } else { // [mid, right] is sorted if (nums[mid] \u003c target \u0026\u0026 nums[right] \u003e= target) left = mid + 1; else right = mid - 1; } } return -1; } }; 154. Find Minimum in Rotated Sorted Array II é¢˜ç›®ç½‘å€. è¿™é“é¢˜å’Œ 153 æœ€å¤§çš„åŒºåˆ«ï¼Œä¹Ÿæ˜¯å”¯ä¸€çš„éš¾ç‚¹ï¼Œå°±åœ¨äºé‡å¤å…ƒç´ çš„å­˜åœ¨ï¼Œä½¿å¾—æˆ‘ä»¬æ— æ³•åœ¨æ‰€æœ‰æƒ…å†µä¸‹é€šè¿‡æ¯”è¾ƒ nums[mid] å’Œç«¯ç‚¹æ¥ç¡®å®šèŒƒå›´ã€‚å½“ä¸¥æ ¼å°äºå’Œä¸¥æ ¼å¤§äºç«¯ç‚¹çš„æƒ…å†µä¸‹å’Œä¹‹å‰ç›¸åŒã€‚nums[mid] == nums[right] æ˜¯æˆ‘ä»¬æ— æ³•åˆ¤æ–­çš„æƒ…å†µã€‚ä½†æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥ç¡®å®šçš„æ˜¯ nums[right] è‚¯å®šä¸æ˜¯å”¯ä¸€çš„æœ€å°å€¼å€™é€‰è€… (å› ä¸º mid ä½ç½®è¿˜æœ‰ä¸€ä¸ªå’Œå®ƒä¸€æ ·å¤§çš„æ•°). å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥å®‰å…¨åœ°å°† right æŒ‡é’ˆå‘å·¦ç§»åŠ¨ä¸€ä½ï¼ŒæŠŠ nums[right] è¿™ä¸ªå…ƒç´ å»æ‰ï¼Œç„¶ååœ¨ç¼©å°åçš„åŒºé—´é‡Œç»§ç»­å¯»æ‰¾ã€‚\næœ€å¥½çš„å’Œå¹³å‡æƒ…å†µä¸‹ï¼Œå¤§éƒ¨åˆ†æ—¶é—´è¿˜æ˜¯åœ¨è¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾ï¼Œå¤æ‚åº¦æ˜¯ $O(\\log n)$. ä½†åœ¨æ•°ç»„æ‰€æœ‰å…ƒç´ éƒ½ç›¸ç­‰çš„æœ€åçš„æƒ…å†µä¸‹ï¼Œä¾‹å¦‚æ•°ç»„æ˜¯ [1, 1, 1, 1, 1]ï¼Œmid å’Œ right æŒ‡å‘çš„å…ƒç´ ä¼šä¸€ç›´ç›¸ç­‰ï¼Œç®—æ³•ä¸€ç›´ä¼šè¿›è¡Œ rightâ€“ï¼Œçº¿æ€§åœ°ä»å³å‘å·¦æ‰«æï¼Œæ—¶é—´å¤æ‚åº¦å˜ä¸º $O(n)$. è¿™æ˜¯ä¸ºäº†å¤„ç†é‡å¤å…ƒç´ æ‰€å¿…é¡»ä»˜å‡ºçš„ä»£ä»·ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 class Solution { public: int findMin(vector\u003cint\u003e\u0026 nums) { int left = 0, right = nums.size() - 1; while (left \u003c= right) { int mid = left + (right - left) / 2; if (mid + 1 \u003c nums.size() \u0026\u0026 nums[mid] \u003e nums[mid + 1]) return nums[mid + 1]; if (mid - 1 \u003e= 0 \u0026\u0026 nums[mid] \u003c nums[mid - 1]) return nums[mid]; if (nums[mid] \u003e nums[right]) { left = mid + 1; } else if (nums[mid] \u003c nums[right]) { right = mid - 1; } else { // if nums[right] is minmimum, at least nums[mid] is also. right--; } } return nums[left]; } }; ",
  "wordCount" : "5826",
  "inLanguage": "en",
  "datePublished": "2025-07-24T09:59:53+08:00",
  "dateModified": "2025-09-19T09:20:48+08:00",
  "author":[{
    "@type": "Person",
    "name": "WITHER"
  }],
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://localhost:1313/blogs/leetcode/03_binarysearch/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "WITHER",
    "logo": {
      "@type": "ImageObject",
      "url": "http://localhost:1313/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="WITHER (Alt + H)">WITHER</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
                <ul class="lang-switch"><li>|</li>
                    <li>
                        <a href="http://localhost:1313/zh/" title="ç®€ä½“ä¸­æ–‡"
                            aria-label="ç®€ä½“ä¸­æ–‡">ç®€ä½“ä¸­æ–‡</a>
                    </li>
                </ul>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/" title="ğŸ  Home">
                    <span>ğŸ  Home</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/about_me/" title="ğŸ™‹ğŸ»â€â™‚ï¸ Me">
                    <span>ğŸ™‹ğŸ»â€â™‚ï¸ Me</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/blogs/" title="ğŸ“š Blogs">
                    <span>ğŸ“š Blogs</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/categories/" title="ğŸ§© Categories">
                    <span>ğŸ§© Categories</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/tags/" title="ğŸ”– Tags">
                    <span>ğŸ”– Tags</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/archives/" title="â± Archive">
                    <span>â± Archive</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/search/" title="ğŸ” Search (Alt &#43; /)" accesskey=/>
                    <span>ğŸ” Search</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/friends/" title="ğŸ¤ Friends">
                    <span>ğŸ¤ Friends</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="http://localhost:1313/">Home</a>&nbsp;Â»&nbsp;<a href="http://localhost:1313/blogs/">Blogs</a>&nbsp;Â»&nbsp;<a href="http://localhost:1313/blogs/leetcode/">Leetcode</a></div>
    <h1 class="post-title entry-hint-parent">
      03 BinarySearch
    </h1>
    <div class="post-description">
      Algorithm questions about binary search.
    </div>
    <div class="post-meta"><span title='2025-07-24 09:59:53 +0800 CST'>Jul-24-2025</span>&nbsp;Â·&nbsp;12 min&nbsp;Â·&nbsp;5826 words&nbsp;Â·&nbsp;WITHER

</div>
  </header> <aside id="toc-container" class="toc-container wide">
    <div class="toc">
        <details  open>
            <summary accesskey="c" title="(Alt + C)">
                <span class="details">Table of Contents</span>
            </summary>

            <div class="inner"><ul>
                    <li>
                        <a href="#preliminary-algorithms-for-binary-search-in-different-intervals" aria-label="Preliminary: Algorithms for Binary Search in Different Intervals">Preliminary: Algorithms for Binary Search in Different Intervals</a></li>
                    <li>
                        <a href="#question-type-1-maintain-properties-outside-the-interval" aria-label="Question Type 1: Maintain Properties Outside the Interval">Question Type 1: Maintain Properties Outside the Interval</a><ul>
                            
                    <li>
                        <a href="#34-find-first-and-last-position-of-element-in-sorted-array" aria-label="34. Find First and Last Position of Element in Sorted Array">34. Find First and Last Position of Element in Sorted Array</a></li>
                    <li>
                        <a href="#2529-maximum-count-of-positive-integer-and-negative-integer" aria-label="2529. Maximum Count of Positive Integer and Negative Integer">2529. Maximum Count of Positive Integer and Negative Integer</a></li>
                    <li>
                        <a href="#2300-successful-pairs-of-spells-and-potions" aria-label="2300. Successful Pairs of Spells and Potions">2300. Successful Pairs of Spells and Potions</a></li>
                    <li>
                        <a href="#2563-count-the-number-of-fair-pairs" aria-label="2563. Count the Number of Fair Pairs">2563. Count the Number of Fair Pairs</a></li>
                    <li>
                        <a href="#275-h-index-ii" aria-label="275. H Index II">275. H Index II</a></li>
                    <li>
                        <a href="#875-koko-eating-bananas" aria-label="875. Koko Eating Bananas">875. Koko Eating Bananas</a></li>
                    <li>
                        <a href="#2187-minimum-time-to-complete-trips" aria-label="2187. Minimum Time to Complete Trips">2187. Minimum Time to Complete Trips</a></li>
                    <li>
                        <a href="#2861-maximum-number-of-alloys" aria-label="2861. Maximum Number of Alloys">2861. Maximum Number of Alloys</a></li>
                    <li>
                        <a href="#2439-minimize-maximum-of-array" aria-label="2439. Minimize Maximum of Array">2439. Minimize Maximum of Array</a></li>
                    <li>
                        <a href="#2517-maximum-tastiness-of-candy-basket" aria-label="2517. Maximum Tastiness of Candy Basket">2517. Maximum Tastiness of Candy Basket</a></li></ul>
                    </li>
                    <li>
                        <a href="#question-type-2-select-the-half-where-the-answer-is-located" aria-label="Question Type 2: Select the Half where the Answer is Located">Question Type 2: Select the Half where the Answer is Located</a><ul>
                            
                    <li>
                        <a href="#162-find-peak-element" aria-label="162. Find Peak Element">162. Find Peak Element</a></li>
                    <li>
                        <a href="#153-find-minimum-in-rotated-sorted-array" aria-label="153. Find Minimum in Rotated Sorted Array">153. Find Minimum in Rotated Sorted Array</a></li>
                    <li>
                        <a href="#33-search-in-rotated-sorted-array" aria-label="33. Search in Rotated Sorted Array">33. Search in Rotated Sorted Array</a></li>
                    <li>
                        <a href="#154-find-minimum-in-rotated-sorted-array-ii" aria-label="154. Find Minimum in Rotated Sorted Array II">154. Find Minimum in Rotated Sorted Array II</a>
                    </li>
                </ul>
                </li>
                </ul>
            </div>
        </details>
    </div>
</aside>
<script>
    let activeElement;
    let elements;
    
    document.addEventListener('DOMContentLoaded', function (event) {
        checkTocPosition();
    
        elements = document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]');
        if (elements.length > 0) {
            
            activeElement = elements[0];
            const id = encodeURI(activeElement.getAttribute('id')).toLowerCase();
            document.querySelector(`.inner ul li a[href="#${id}"]`).classList.add('active');
        }
    
        
        const topLink = document.getElementById('top-link');
        if (topLink) {
            topLink.addEventListener('click', (event) => {
                
                event.preventDefault();
    
                
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });
        }
    }, false);
    
    window.addEventListener('resize', function(event) {
        checkTocPosition();
    }, false);
    
    window.addEventListener('scroll', () => {
        
        const scrollPosition = window.pageYOffset || document.documentElement.scrollTop;
    
        
        if (scrollPosition === 0) {
            return;
        }
    
        
        if (elements && elements.length > 0) {
            
            activeElement = Array.from(elements).find((element) => {
                if ((getOffsetTop(element) - scrollPosition) > 0 && 
                    (getOffsetTop(element) - scrollPosition) < window.innerHeight / 2) {
                    return element;
                }
            }) || activeElement;
    
            elements.forEach(element => {
                const id = encodeURI(element.getAttribute('id')).toLowerCase();
                const tocLink = document.querySelector(`.inner ul li a[href="#${id}"]`);
                if (element === activeElement){
                    tocLink.classList.add('active');
    
                    
                    const tocContainer = document.querySelector('.toc .inner');
                    const linkOffsetTop = tocLink.offsetTop;
                    const containerHeight = tocContainer.clientHeight;
                    const linkHeight = tocLink.clientHeight;
    
                    
                    const scrollPosition = linkOffsetTop - (containerHeight / 2) + (linkHeight / 2);
                    tocContainer.scrollTo({ top: scrollPosition, behavior: 'smooth' });
                } else {
                    tocLink.classList.remove('active');
                }
            });
        }
    }, false);
    
    const main = parseInt(getComputedStyle(document.body).getPropertyValue('--article-width'), 10);
    const toc = parseInt(getComputedStyle(document.body).getPropertyValue('--toc-width'), 10);
    const gap = parseInt(getComputedStyle(document.body).getPropertyValue('--gap'), 10);
    
    function checkTocPosition() {
        const width = document.body.scrollWidth;
    
        if (width - main - (toc * 2) - (gap * 4) > 0) {
            document.getElementById("toc-container").classList.add("wide");
        } else {
            document.getElementById("toc-container").classList.remove("wide");
        }
    }
    
    function getOffsetTop(element) {
        if (!element.getClientRects().length) {
            return 0;
        }
        let rect = element.getBoundingClientRect();
        let win = element.ownerDocument.defaultView;
        return rect.top + win.pageYOffset;   
    }
    
</script>

  <div class="post-content"><h1 id="preliminary-algorithms-for-binary-search-in-different-intervals">Preliminary: Algorithms for Binary Search in Different Intervals<a hidden class="anchor" aria-hidden="true" href="#preliminary-algorithms-for-binary-search-in-different-intervals">#</a></h1>
<p>å¯¹äºåœ¨ä¸€ä¸ªæœ‰åºæ•°ç»„é‡Œè¿”å›ç¬¬ä¸€ä¸ª <code>&gt;= target</code> å…ƒç´ çš„ä½ç½®çš„é—®é¢˜ï¼Œå¦‚æœç”¨æš´åŠ›æœç´¢æ³•éå†æ•°ç»„ï¼Œåˆ™æ—¶é—´å¤æ‚åº¦ä¸º $O(n)$ï¼Œè¿™æ˜¯å› ä¸ºæ²¡æœ‰åˆ©ç”¨æ•°ç»„æœ‰åºçš„æ€§è´¨ã€‚</p>
<ul>
<li>
<p>å¯¹äºé—­åŒºé—´å†™æ³•æˆ‘ä»¬åˆå§‹åŒ–ä¸€ä¸ªå·¦æŒ‡é’ˆ left æŒ‡å‘æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œå³æŒ‡é’ˆ right æŒ‡å‘æ•°ç»„ä¸­æœ€åä¸€ä¸ªå…ƒç´ ã€‚è¦ä¿è¯çš„æ˜¯ left å·¦ä¾§çš„å…ƒç´ å…¨éƒ¨éƒ½å°äº target, right å³ä¾§çš„å…ƒç´ å…¨éƒ¨éƒ½å¤§äºç­‰äº targetï¼Œè¿™ä¹Ÿè¢«ç§°ä¸º<strong>å¾ªç¯ä¸å˜é‡</strong>ï¼Œå› æ­¤æ›´æ–°çš„æ—¶å€™æˆ‘ä»¬è¦ä»¤ <code>left = mid + 1</code> æˆ–è€… <code>right = mid - 1</code>. å½“ <code>left &lt;= right</code> æ—¶ï¼ŒåŒºé—´å†…éƒ½æœ‰å…ƒç´ ã€‚å¾ªç¯ç»“æŸåï¼Œæœ‰ <code>L = R + 1</code>. <em>ä¸ºäº†é˜²æ­¢æº¢å‡ºï¼Œè®¡ç®—ä¸­ç‚¹çš„æ—¶å€™è¦å†™æˆ</em> <code>mid = left + (right - left) / 2</code>.</p>
</li>
<li>
<p>å·¦é—­å³å¼€åŒºé—´çš„å†™æ³•ï¼Œéœ€è¦æŠŠ right åˆå§‹åŒ–ä¸ºæ•°ç»„é•¿åº¦ï¼Œ<code>right = mid</code>ï¼Œå› ä¸ºæ­¤æ—¶åŒºé—´ä¸åŒ…æ‹¬ rightï¼ŒåŒºé—´ä¸ä¸ºç©ºçš„æƒ…å†µä¸º <code>left &lt; right</code>. å¾ªç¯ç»“æŸå left å’Œ right æŒ‡å‘çš„æ—¶åŒä¸€ä¸ªä½ç½®ï¼Œè¿”å›è°éƒ½å¯ä»¥ã€‚å¯¹äºå·¦å¼€å³é—­åŒºé—´ä¹Ÿæ˜¯åŒç†ã€‚</p>
</li>
<li>
<p>æ˜¯å·¦å¼€å³å¼€åŒºé—´çš„å†™æ³•ï¼Œéœ€è¦é¢å¤–æŠŠ left åˆå§‹åŒ–ä¸º -1. åŒºé—´ä¸ä¸ºç©ºçš„æ¡ä»¶ä¸º <code>left + 1 &lt; right</code>ï¼Œæ›´æ–°çš„æ˜¯æ—¶å€™éœ€è¦ä¹Ÿä½¿å¾— <code>left = mid</code>. å¾ªç¯ç»“æŸåè¿”å› right.</p>
</li>
</ul>
<p>å†è€ƒè™‘é¢å¤–çš„ä¸‰ç§æƒ…å†µï¼Œå¦‚æœæ•°ç»„å…ƒç´ éƒ½æ˜¯æ•´æ•°:</p>
<ul>
<li><code>&gt; target</code> å¯ä»¥çœ‹ä½œ <code>&gt;= target + 1</code></li>
<li><code>&lt; target</code> å¯ä»¥çœ‹ä½œ <code>&gt;= target</code> å·¦è¾¹çš„é‚£ä¸ªä½ç½®ã€‚</li>
<li><code>&lt;= target</code> å¯ä»¥çœ‹ä½œ <code>&gt;= target + 1</code> å·¦è¾¹çš„é‚£ä¸ªä½ç½®ã€‚</li>
</ul>
<h1 id="question-type-1-maintain-properties-outside-the-interval">Question Type 1: Maintain Properties Outside the Interval<a hidden class="anchor" aria-hidden="true" href="#question-type-1-maintain-properties-outside-the-interval">#</a></h1>
<h2 id="34-find-first-and-last-position-of-element-in-sorted-array">34. Find First and Last Position of Element in Sorted Array<a hidden class="anchor" aria-hidden="true" href="#34-find-first-and-last-position-of-element-in-sorted-array">#</a></h2>
<p><a href="https://leetcode.cn/problems/find-first-and-last-position-of-element-in-sorted-array/">é¢˜ç›®ç½‘å€</a>. æˆ‘ä»¬å…ˆæ±‚å‡ºç¬¬ä¸€ä¸ª <code>&gt;= target</code> å…ƒç´ çš„ä½ç½®ï¼Œè®°ä½œ start. å¦‚æœ <code>start == nums.size()</code> åˆ™è¯´æ˜æ•°ç»„æ‰€æœ‰å…ƒç´ éƒ½ <code>&lt; target</code>. å¦‚æœ <code>nums[start] != target</code> å°±è¯´æ˜æ•°ç»„ä¸­ä¸å­˜åœ¨è¿™ä¸ªå…ƒç´ ã€‚</p>
<p>å¯¹äº target çš„æœ«å°¾ä½ç½®åˆ™å¯ä»¥çœ‹ä½œ <code>&gt;= target + 1</code> èµ·å§‹ä½ç½®çš„å·¦è¾¹ä¸€ä¸ªå…ƒç´ ï¼Œç”±äº start å­˜åœ¨é‚£ä¹ˆ end è‚¯å®šå­˜åœ¨ (æœ€å·® <code>= start</code>).</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// return the index of a sorted array where its ele &gt;= target
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kt">int</span> <span class="nf">lowerBoundIndex</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">nums</span><span class="p">,</span> <span class="kt">int</span> <span class="n">target</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kt">int</span> <span class="n">left</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">right</span> <span class="o">=</span> <span class="n">nums</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">while</span> <span class="p">(</span><span class="n">left</span> <span class="o">&lt;=</span> <span class="n">right</span><span class="p">)</span> <span class="p">{</span>  <span class="c1">// loop until the interval is empty, i.e. right + 1 = left
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="kt">int</span> <span class="n">mid</span> <span class="o">=</span> <span class="n">left</span> <span class="o">+</span> <span class="p">(</span><span class="n">right</span> <span class="o">-</span> <span class="n">left</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>  <span class="c1">// avoid overflow
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="k">if</span> <span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">target</span><span class="p">)</span> <span class="p">{</span>  <span class="c1">// shows left ele of the interval all &lt; target
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                <span class="n">left</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>  <span class="c1">// [mid + 1, right]
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>  <span class="c1">// shows right ele of the interval all &gt;= target
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                <span class="n">right</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>  <span class="c1">// [left, mid - 1]
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">left</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">    <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">searchRange</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">nums</span><span class="p">,</span> <span class="kt">int</span> <span class="n">target</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kt">int</span> <span class="n">start</span> <span class="o">=</span> <span class="n">lowerBoundIndex</span><span class="p">(</span><span class="n">nums</span><span class="p">,</span> <span class="n">target</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// all ele &lt; target || all ele &gt; target
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">if</span> <span class="p">(</span><span class="n">start</span> <span class="o">==</span> <span class="n">nums</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">||</span> <span class="n">nums</span><span class="p">[</span><span class="n">start</span><span class="p">]</span> <span class="o">!=</span> <span class="n">target</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="p">{</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">};</span>
</span></span><span class="line"><span class="cl">        <span class="kt">int</span> <span class="n">end</span> <span class="o">=</span> <span class="n">lowerBoundIndex</span><span class="p">(</span><span class="n">nums</span><span class="p">,</span> <span class="n">target</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="p">{</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">};</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="2529-maximum-count-of-positive-integer-and-negative-integer">2529. Maximum Count of Positive Integer and Negative Integer<a hidden class="anchor" aria-hidden="true" href="#2529-maximum-count-of-positive-integer-and-negative-integer">#</a></h2>
<p><a href="https://leetcode.cn/problems/maximum-count-of-positive-integer-and-negative-integer/">é¢˜ç›®ç½‘å€</a>. æ€è·¯å’Œä¸Šé¢˜ä¸€æ ·ï¼Œè´Ÿæ•°ä¸ªæ•°å³ä¸ºæ•°ç»„ç¬¬ä¸€ä¸ª <code>&gt;= 0</code> å…ƒç´ çš„ç´¢å¼•ã€‚æ­£æ•°ä¸ªæ•°å³ä¸ºæ•°ç»„é•¿åº¦å‡å»ç¬¬ä¸€ä¸ª <code>&gt;=1</code> çš„å…ƒç´ çš„ç´¢å¼•ã€‚<code>lowerBoundIndex</code> å‡½æ•°ä¸€æ ·ï¼Œä¸å†èµ˜è¿°ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">maximumCount</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">nums</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// Find first index where nums[i] &gt;= 0 (count of negatives)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="kt">int</span> <span class="n">negCount</span> <span class="o">=</span> <span class="n">lowerBoundIndex</span><span class="p">(</span><span class="n">nums</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// Find first index where nums[i] &gt;= 1 (start of positives)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="kt">int</span> <span class="n">startOfPos</span> <span class="o">=</span> <span class="n">lowerBoundIndex</span><span class="p">(</span><span class="n">nums</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// Positive count is total length minus index of first &gt;= 1
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="kt">int</span> <span class="n">posCount</span> <span class="o">=</span> <span class="n">nums</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">-</span> <span class="n">startOfPos</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="nf">max</span><span class="p">(</span><span class="n">negCount</span><span class="p">,</span> <span class="n">posCount</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="2300-successful-pairs-of-spells-and-potions">2300. Successful Pairs of Spells and Potions<a hidden class="anchor" aria-hidden="true" href="#2300-successful-pairs-of-spells-and-potions">#</a></h2>
<p><a href="https://leetcode.cn/problems/successful-pairs-of-spells-and-potions/">é¢˜ç›®ç½‘å€</a>. å¯¹ potions è¿›è¡Œæ’åºï¼Œéå† spellsï¼Œå¯¹äºæ¯ä¸ªå’’è¯­æ‰¾åˆ°æ»¡è¶³ sucess è¦æ±‚çš„æœ€å°è¯æ°´çš„èƒ½é‡å¼ºåº¦å¯¹åº”çš„ç´¢å¼•ï¼Œ<code>potions.size()</code> å‡å»è¯¥ç´¢å¼•åˆ™ä¸ºèƒ½æˆåŠŸé…å¯¹çš„æ•°ç›®ã€‚</p>
<pre tabindex="0"><code>class Solution {
public:
    vector&lt;int&gt; successfulPairs(vector&lt;int&gt;&amp; spells, vector&lt;int&gt;&amp; potions, long long success) {
        sort(potions.begin(), potions.end());
        vector&lt;int&gt; ans;
        for (int spell : spells) {
            long long target = ceil((double)success / spell);
            ans.push_back((int) potions.size() - lowerBoundIndex(potions, target));
        }
        return ans;
    }
};
</code></pre><h2 id="2563-count-the-number-of-fair-pairs">2563. Count the Number of Fair Pairs<a hidden class="anchor" aria-hidden="true" href="#2563-count-the-number-of-fair-pairs">#</a></h2>
<p><a href="https://leetcode.cn/problems/count-the-number-of-fair-pairs/">é¢˜ç›®ç½‘å€</a>. å¯¹ nums è¿›è¡Œæ’åºåä»å·¦å¾€å³éå†ï¼Œå¯¹äºæ¯ä¸ªå…ƒç´ åœ¨å…¶å³ä¾§æ•°ç»„ä¸­æŸ¥æ‰¾ç¬¬ä¸€ä¸ª <code>&gt;= upper + 1</code> çš„ç´¢å¼•å’Œç¬¬ä¸€ä¸ª <code>&gt;= lower</code> çš„ç´¢å¼•ï¼Œä¸¤è€…ç›¸å‡åˆ™æ˜¯è¯¥å…ƒç´ çš„å…¬å¹³æ•°å¯¹æ•°ç›®ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="nf">lowerBoundIndex</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">nums</span><span class="p">,</span> <span class="kt">int</span> <span class="n">target</span><span class="p">,</span> <span class="kt">int</span> <span class="n">start</span><span class="p">,</span> <span class="kt">int</span> <span class="n">end</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">start</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">||</span> <span class="n">end</span> <span class="o">&gt;</span> <span class="n">nums</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">||</span> <span class="n">start</span> <span class="o">&gt;</span> <span class="n">end</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="kt">int</span> <span class="n">left</span> <span class="o">=</span> <span class="n">start</span><span class="p">,</span> <span class="n">right</span> <span class="o">=</span> <span class="n">end</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">while</span> <span class="p">(</span><span class="n">left</span> <span class="o">&lt;=</span> <span class="n">right</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="kt">int</span> <span class="n">mid</span> <span class="o">=</span> <span class="n">left</span> <span class="o">+</span> <span class="p">(</span><span class="n">right</span> <span class="o">-</span> <span class="n">left</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">target</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="n">left</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="n">right</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">left</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">    <span class="kt">long</span> <span class="kt">long</span> <span class="n">countFairPairs</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">nums</span><span class="p">,</span> <span class="kt">int</span> <span class="n">lower</span><span class="p">,</span> <span class="kt">int</span> <span class="n">upper</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">nums</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kt">long</span> <span class="kt">long</span> <span class="n">ans</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">n</span> <span class="o">=</span> <span class="n">nums</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">        <span class="n">sort</span><span class="p">(</span><span class="n">nums</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">nums</span><span class="p">.</span><span class="n">end</span><span class="p">());</span><span class="err">å¤§äº</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">nums</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="kt">int</span> <span class="n">left</span> <span class="o">=</span> <span class="n">lowerBoundIndex</span><span class="p">(</span><span class="n">nums</span><span class="p">,</span> <span class="n">lower</span> <span class="o">-</span> <span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">n</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="kt">int</span> <span class="n">right</span> <span class="o">=</span> <span class="n">lowerBoundIndex</span><span class="p">(</span><span class="n">nums</span><span class="p">,</span> <span class="n">upper</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">n</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="n">ans</span> <span class="o">+=</span> <span class="n">right</span> <span class="o">-</span> <span class="n">left</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">ans</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>   
</span></span><span class="line"><span class="cl"><span class="p">};</span> 
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="275-h-index-ii">275. H Index II<a hidden class="anchor" aria-hidden="true" href="#275-h-index-ii">#</a></h2>
<p><a href="https://leetcode.cn/problems/h-index-ii/">é¢˜ç›®ç½‘å€</a>. æˆ‘ä»¬éœ€è¦æ‰¾åˆ°ä¸€ä¸ªåˆ†ç•Œç‚¹ midï¼Œä½¿å¾—ä» mid åˆ°æœ«å°¾çš„è®ºæ–‡æ•°é‡ <code>n - mid</code> è‡³å°‘ä¸º <code>citations[mid]</code>. åŒæ—¶ï¼Œæˆ‘ä»¬å¸Œæœ› <code>n - mid</code> å°½å¯èƒ½å°ã€‚æ¢å¥è¯è¯´ï¼Œæˆ‘ä»¬éœ€è¦æ‰¾åˆ°æœ€å°çš„ mid ä½¿å¾— <code>citations[mid] &gt;= n - mid</code>ï¼Œè¿™æ · h = n - mid å°±æ˜¯æ»¡è¶³æ¡ä»¶çš„æœ€å¤§å€¼ã€‚</p>
<p>æ ¹æ®é—­åŒºé—´çš„å†™æ³•ï¼Œleft å·¦ä¾§çš„å¼•ç”¨æ¬¡æ•°éƒ½æ»¡è¶³ H index çš„å®šä¹‰ï¼Œå³æˆ‘ä»¬éœ€è¦åˆ¤æ–­æ˜¯å¦æœ‰ <code>n - mid</code> è®ºæ–‡ä¸¥æ ¼å¤§äº <code>citation[mid]</code>. å½“å¾ªç¯ç»“æŸæ—¶ï¼Œleft ä¼šæŒ‡å‘ç¬¬ä¸€ä¸ªæ»¡è¶³ <code>citations[mid] &gt;= n - mid</code> çš„ä½ç½®ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">hIndex</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">citations</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kt">int</span> <span class="n">left</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">right</span> <span class="o">=</span> <span class="n">citations</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="n">n</span> <span class="o">=</span> <span class="n">citations</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">        <span class="k">while</span> <span class="p">(</span><span class="n">left</span> <span class="o">&lt;=</span> <span class="n">right</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="kt">int</span> <span class="n">mid</span> <span class="o">=</span> <span class="n">left</span> <span class="o">+</span> <span class="p">(</span><span class="n">right</span> <span class="o">-</span> <span class="n">left</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="n">mid</span> <span class="o">&gt;</span> <span class="n">citations</span><span class="p">[</span><span class="n">mid</span><span class="p">])</span> <span class="p">{</span>  <span class="c1">// try bigger h index, which means smaller mid
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                <span class="n">left</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="n">right</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">n</span> <span class="o">-</span> <span class="n">left</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="875-koko-eating-bananas">875. Koko Eating Bananas<a hidden class="anchor" aria-hidden="true" href="#875-koko-eating-bananas">#</a></h2>
<p><a href="https://leetcode.cn/problems/koko-eating-bananas/">é¢˜ç›®ç½‘å€</a>. è¿™é‡Œé¢˜ç›®æ„æ€æœ‰ç‚¹éš¾ä»¥ç†è§£ï¼Œæ€»ä¹‹æ¥è¯´å°±æ˜¯åƒæ‰é¦™è•‰èŠ±è´¹æ—¶é—´æ˜¯å‘ä¸Šå–æ•´çš„ã€‚å½“åƒé¦™è•‰çš„æ—¶é—´å°äºç­‰äºè­¦å«å›æ¥çš„é€Ÿåº¦çš„æ—¶å€™æˆ‘ä»¬è®°å½•ä¸‹ç­”æ¡ˆå¹¶å°è¯•æ›´æ…¢çš„é€Ÿåº¦ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">minEatingSpeed</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">piles</span><span class="p">,</span> <span class="kt">int</span> <span class="n">h</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kt">int</span> <span class="n">left</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">right</span> <span class="o">=</span> <span class="o">*</span><span class="n">max_element</span><span class="p">(</span><span class="n">piles</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">piles</span><span class="p">.</span><span class="n">end</span><span class="p">()),</span> <span class="n">ans</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">while</span> <span class="p">(</span><span class="n">left</span> <span class="o">&lt;=</span> <span class="n">right</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="kt">int</span> <span class="n">mid</span> <span class="o">=</span> <span class="n">left</span> <span class="o">+</span> <span class="p">(</span><span class="n">right</span> <span class="o">-</span> <span class="n">left</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>  <span class="c1">// eating speed = piles[mid]
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="kt">long</span> <span class="kt">long</span> <span class="n">time</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="nl">pile</span> <span class="p">:</span> <span class="n">piles</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="n">time</span> <span class="o">+=</span> <span class="n">ceil</span><span class="p">((</span><span class="kt">double</span><span class="p">)</span> <span class="n">pile</span> <span class="o">/</span> <span class="n">mid</span><span class="p">);</span>  <span class="c1">// convert to double to avoid truncation
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="p">(</span><span class="n">time</span> <span class="o">&lt;=</span> <span class="n">h</span><span class="p">)</span> <span class="p">{</span>  <span class="c1">// try slower speed
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                <span class="n">ans</span> <span class="o">=</span> <span class="n">mid</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                <span class="n">right</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>  <span class="c1">// too slow to eat all piles
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                <span class="n">left</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">ans</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="2187-minimum-time-to-complete-trips">2187. Minimum Time to Complete Trips<a hidden class="anchor" aria-hidden="true" href="#2187-minimum-time-to-complete-trips">#</a></h2>
<p><a href="https://leetcode.cn/problems/minimum-time-to-complete-trips/">é¢˜ç›®ç½‘å€</a>. ä¸€æ ·çš„æ€è·¯ï¼Œåˆ¤æ–­ <code>mid</code> æ—¶é—´å†…èƒ½å®Œæˆçš„è¶Ÿæ•°æ˜¯å¦æ»¡è¶³è¦æ±‚ï¼Œè‹¥æ»¡è¶³åˆ™å°è¯•æ›´çŸ­çš„æ—¶é—´ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">    <span class="kt">long</span> <span class="kt">long</span> <span class="n">minimumTime</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">time</span><span class="p">,</span> <span class="kt">int</span> <span class="n">totalTrips</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kt">long</span> <span class="kt">long</span> <span class="n">left</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> 
</span></span><span class="line"><span class="cl">        <span class="kt">long</span> <span class="kt">long</span> <span class="n">right</span> <span class="o">=</span> <span class="n">ranges</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="n">time</span><span class="p">)</span> <span class="o">*</span> <span class="mi">1LL</span> <span class="o">*</span> <span class="n">totalTrips</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kt">long</span> <span class="kt">long</span> <span class="n">ans</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">while</span> <span class="p">(</span><span class="n">left</span> <span class="o">&lt;=</span> <span class="n">right</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="kt">long</span> <span class="kt">long</span> <span class="n">mid</span> <span class="o">=</span> <span class="n">left</span> <span class="o">+</span> <span class="p">(</span><span class="n">right</span> <span class="o">-</span> <span class="n">left</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="kt">long</span> <span class="kt">long</span> <span class="n">curTrips</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="nl">t</span> <span class="p">:</span> <span class="n">time</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="n">curTrips</span> <span class="o">+=</span> <span class="n">mid</span> <span class="o">/</span> <span class="n">t</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="p">(</span><span class="n">curTrips</span> <span class="o">&lt;</span> <span class="n">totalTrips</span><span class="p">)</span> <span class="p">{</span>  <span class="c1">// not enough
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                <span class="n">left</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="n">ans</span> <span class="o">=</span> <span class="n">mid</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                <span class="n">right</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">ans</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="2861-maximum-number-of-alloys">2861. Maximum Number of Alloys<a hidden class="anchor" aria-hidden="true" href="#2861-maximum-number-of-alloys">#</a></h2>
<p><a href="https://leetcode.cn/problems/maximum-number-of-alloys/">é¢˜ç›®ç½‘å€</a>.</p>
<ol>
<li>éå†æ¯ä¸€ç§åˆé‡‘é…æ–¹ï¼Œè®¡ç®—ä¸€æ¬¡å®ƒæœ€å¤šèƒ½é€ å¤šå°‘ä»¶ã€‚</li>
<li>å¯¹æ¯ç§åˆé‡‘ç”¨äºŒåˆ†æŸ¥æ‰¾æ¥å¯»æ‰¾èƒ½åˆ¶é€ çš„æœ€å¤§æ•°é‡ï¼Œä¸æ–­æ›´æ–°æœ€å¤§å€¼ã€‚
<ul>
<li>æ¯ä¸€ç§åˆé‡‘æœ€å¤§èƒ½åˆ¶é€ çš„æ•°é‡å¯ä»¥åˆå§‹åŒ–ä¸ºåº“å­˜æœ€å°‘çš„é‡‘å±æ•°é‡åŠ ä¸Š budget (å³å‡è®¾è´­ä¹°é‡‘å±èŠ±è´¹ä¸º 1). åˆ¶é€  <code>mid</code> ä»½éœ€è¦çš„æ€»èŠ±è´¹æˆ‘ä»¬å…ˆéœ€è¦éå†æ¯ç§é‡‘å±éœ€è¦çš„æ•°é‡å’Œå¯¹åº”åº“å­˜çš„å¤§å°ï¼Œä»¥åˆ¤æ–­éœ€ä¸éœ€è¦é¢å¤–è´­ä¹°ã€‚</li>
</ul>
</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">maxNumberOfAlloys</span><span class="p">(</span><span class="kt">int</span> <span class="n">n</span><span class="p">,</span> <span class="kt">int</span> <span class="n">k</span><span class="p">,</span> <span class="kt">int</span> <span class="n">budget</span><span class="p">,</span> <span class="n">vector</span><span class="o">&lt;</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;&amp;</span> <span class="n">composition</span><span class="p">,</span> <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">stock</span><span class="p">,</span> <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">cost</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kt">long</span> <span class="kt">long</span> <span class="n">ans</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// Perform binary search on each alloy
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">for</span> <span class="p">(</span><span class="k">auto</span> <span class="nl">comp</span> <span class="p">:</span> <span class="n">composition</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="kt">long</span> <span class="kt">long</span> <span class="n">left</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">right</span> <span class="o">=</span> <span class="n">ranges</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="n">stock</span><span class="p">)</span> <span class="o">+</span> <span class="n">budget</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="kt">long</span> <span class="kt">long</span> <span class="n">maxNum</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="k">while</span> <span class="p">(</span><span class="n">left</span> <span class="o">&lt;=</span> <span class="n">right</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="kt">long</span> <span class="kt">long</span> <span class="n">mid</span> <span class="o">=</span> <span class="n">left</span> <span class="o">+</span> <span class="p">(</span><span class="n">right</span> <span class="o">-</span> <span class="n">left</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                <span class="kt">long</span> <span class="kt">long</span> <span class="n">totalCost</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>  <span class="c1">// compute the cost to produce mid alloys
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                    <span class="n">totalCost</span> <span class="o">+=</span> <span class="n">max</span><span class="p">(</span><span class="mi">0LL</span><span class="p">,</span> <span class="n">mid</span> <span class="o">*</span> <span class="n">comp</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="n">stock</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">*</span> <span class="n">cost</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">                <span class="p">}</span>
</span></span><span class="line"><span class="cl">                <span class="k">if</span> <span class="p">(</span><span class="n">totalCost</span> <span class="o">&lt;=</span> <span class="n">budget</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                    <span class="n">maxNum</span> <span class="o">=</span> <span class="n">mid</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                    <span class="n">left</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                    <span class="n">right</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="n">ans</span> <span class="o">=</span> <span class="n">max</span><span class="p">(</span><span class="n">ans</span><span class="p">,</span> <span class="n">maxNum</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">ans</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="2439-minimize-maximum-of-array">2439. Minimize Maximum of Array<a hidden class="anchor" aria-hidden="true" href="#2439-minimize-maximum-of-array">#</a></h2>
<p><a href="https://leetcode.cn/problems/minimize-maximum-of-array/">é¢˜ç›®ç½‘å€</a>. è¿™ç±»æœ€å°åŒ–æœ€å¤§å€¼æˆ–æœ€å¤§åŒ–æœ€å°å€¼çš„é—®é¢˜ï¼Œé€šå¸¸æ˜¯äºŒåˆ†æŸ¥æ‰¾ç­”æ¡ˆçš„ç»å…¸åº”ç”¨åœºæ™¯ã€‚</p>
<p>æˆ‘ä»¬éœ€è¦æ‰¾åˆ°ä¸€ä¸ªæœ€å°çš„ xï¼Œä½¿å¾—æˆ‘ä»¬å¯ä»¥é€šè¿‡æ“ä½œå°†æ•°ç»„ä¸­æ‰€æœ‰å…ƒç´ éƒ½å˜å¾—ä¸å¤§äº x. å‡è®¾è¿™ä¸ªæœ€å°ç­”æ¡ˆæ˜¯ ans.</p>
<ul>
<li>å¦‚æœæˆ‘ä»¬å°è¯•ä¸€ä¸ªç›®æ ‡å€¼ x &gt;= ansï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¸€å®šèƒ½åšåˆ° (å› ä¸ºå¦‚æœèƒ½æŠŠæ‰€æœ‰æ•°éƒ½æ§åˆ¶åœ¨ ans ä»¥ä¸‹ï¼Œé‚£æ§åˆ¶åœ¨æ›´å¤§çš„ x ä»¥ä¸‹å½“ç„¶ä¹Ÿå¯ä»¥).</li>
<li>å¦‚æœæˆ‘ä»¬å°è¯•ä¸€ä¸ªç›®æ ‡å€¼ x &lt; ansï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¸€å®šåšä¸åˆ° (å› ä¸º ans å·²ç»æ˜¯èƒ½è¾¾åˆ°çš„æœ€å°å€¼äº†).</li>
</ul>
<p>è§£é¢˜çš„å…³é”®æ˜¯å¦‚ä½•åˆ¤æ–­èƒ½å¦å°†æ‰€æœ‰å…ƒç´ å˜å¾— <code>&lt;= x</code> ? å¯¹äºä»»æ„å‰ç¼€<code> nums[0...k]</code>ï¼Œæ— è®ºå¦‚ä½•å¯¹è¿™ä¸ªå­æ•°ç»„è¿›è¡Œæ“ä½œï¼Œå…¶æ€»å’Œ <code>sum(nums[0...k])</code> æ˜¯å›ºå®šçš„ï¼Œå› ä¸ºåªèƒ½å‘å·¦ä¼ é€’å€¼ã€‚å› æ­¤ï¼Œæ£€æŸ¥çš„é€»è¾‘å°±æ˜¯ä»å·¦åˆ°å³éå†æ•°ç»„ï¼Œæ£€æŸ¥æ¯ä¸€ä¸ªå‰ç¼€å­æ•°ç»„æ˜¯å¦æ»¡è¶³æ¡ä»¶ã€‚</p>
<p>è®¡ç®—å‰ç¼€å’Œ <code>prefixSum = nums[0] + ... + nums[i]</code>. å¦‚æœ <code>prefixSum &gt; (i+1) * x</code>ï¼Œè¿™æ„å‘³ç€å³ä¾¿æˆ‘ä»¬æŠŠè¿™ä¸ªå‰ç¼€å’Œ prefixSum å®Œç¾åœ°å¹³å‡åˆ†é…ç»™è¿™ i+1 ä¸ªæ•°ï¼Œå®ƒä»¬çš„å¹³å‡å€¼ä¹Ÿå·²ç»è¶…è¿‡ x äº†ã€‚è¿™è¡¨æ˜è¿™ i+1 ä¸ªæ•°ä¸­è‡³å°‘ä¼šæœ‰ä¸€ä¸ªæ•°å¤§äº x. ç”±äºå€¼ä¸èƒ½å‘å³ä¼ é€’ï¼Œè¿™ä¸ªå‰ç¼€å­æ•°ç»„æ— æ³•ä»åˆ«å¤„è·å¾—å¸®åŠ©æ¥å‡å°è‡ªå·±çš„æ€»å’Œï¼Œæ‰€ä»¥è¿™ç§æƒ…å†µæ˜¯ä¸å¯èƒ½å®ç°çš„ã€‚ç›´æ¥è¿”å› false. å¦‚æœéå†å®Œæ‰€æœ‰å‰ç¼€éƒ½æ²¡æœ‰è¿åè¿™ä¸ªæ¡ä»¶ï¼Œè¯´æ˜ç›®æ ‡ x æ˜¯å¯è¡Œçš„ï¼Œè¿”å› true.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">bool</span> <span class="nf">check</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">nums</span><span class="p">,</span> <span class="kt">long</span> <span class="kt">long</span> <span class="n">target</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kt">long</span> <span class="kt">long</span> <span class="n">prefixSum</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">nums</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">prefixSum</span> <span class="o">+=</span> <span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="p">(</span><span class="n">prefixSum</span> <span class="o">&gt;</span> <span class="n">target</span> <span class="o">*</span> <span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">                <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">minimizeArrayValue</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">nums</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="kt">int</span> <span class="n">left</span> <span class="o">=</span> <span class="n">nums</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>  <span class="c1">// nums[0] cannot decrease during process
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="kt">int</span> <span class="n">right</span> <span class="o">=</span> <span class="n">ranges</span><span class="o">::</span><span class="n">max</span><span class="p">(</span><span class="n">nums</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="k">while</span> <span class="p">(</span><span class="n">left</span> <span class="o">&lt;=</span> <span class="n">right</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="kt">int</span> <span class="n">mid</span> <span class="o">=</span> <span class="n">left</span> <span class="o">+</span> <span class="p">(</span><span class="n">right</span> <span class="o">-</span> <span class="n">left</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">check</span><span class="p">(</span><span class="n">nums</span><span class="p">,</span> <span class="n">mid</span><span class="p">))</span> <span class="p">{</span>  <span class="c1">// cannot find min max &lt; mid
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                <span class="n">left</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="n">right</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">left</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="2517-maximum-tastiness-of-candy-basket">2517. Maximum Tastiness of Candy Basket<a hidden class="anchor" aria-hidden="true" href="#2517-maximum-tastiness-of-candy-basket">#</a></h2>
<p><a href="https://leetcode.cn/problems/maximum-tastiness-of-candy-basket/">é¢˜ç›®ç½‘å€</a>. æ€è·¯ä¸ä¸Šé¢˜ç›¸åŒï¼Œå…³é”®æ˜¯ç»™å®šä¸€ä¸ªç›®æ ‡ç”œèœœåº¦ xï¼Œå¦‚ä½•åˆ¤æ–­èƒ½å¦é€‰å‡º k ä¸ªç³–æœï¼Œä½¿å¾—å®ƒä»¬ä¸¤ä¸¤ä»·æ ¼å·®è‡³å°‘ä¸º x ?
è¿™é‡Œå¯ä»¥ä½¿ç”¨è´ªå¿ƒç­–ç•¥ã€‚ä¸ºäº†è®©ç³–æœä¹‹é—´çš„é—´éš”å°½å¯èƒ½å¤§ï¼Œæˆ‘ä»¬åº”è¯¥è®©å®ƒä»¬åœ¨ä»·æ ¼è½´ä¸Šæ‹‰å¾—æ›´å¼€ã€‚</p>
<ol>
<li>
<p>å¯¹ price æ•°ç»„è¿›è¡Œå‡åºæ’åºã€‚ä»¥ä¾¿åœ¨ä¸€ä¸ªæœ‰åºçš„åºåˆ—ä¸Šè¿›è¡Œè´ªå¿ƒé€‰æ‹©ã€‚</p>
</li>
<li>
<p>è¿›è¡Œè´ªå¿ƒç®—æ³•é€‰æ‹©ç³–æœã€‚</p>
<ul>
<li>é€‰æ‹©ä»·æ ¼æœ€ä½çš„ç³–æœ <code>price[0]</code> ä½œä¸ºæˆ‘ä»¬ç¤¼ç›’ä¸­çš„ç¬¬ä¸€é¢—ç³–æœã€‚</li>
<li>å‘åéå†æ’åºåçš„ price æ•°ç»„ï¼Œå¯»æ‰¾ä¸‹ä¸€é¢—å¯ä»¥æ”¾å…¥ç¤¼ç›’çš„ç³–æœã€‚è¦æ»¡è¶³ç”œèœœåº¦ä¸º x çš„æ¡ä»¶ï¼Œä¸‹ä¸€é¢—ç³–æœçš„ä»·æ ¼å¿…é¡»ä¸æˆ‘ä»¬ä¸Šä¸€é¢—é€‰å®šçš„ç³–æœçš„ä»·æ ¼å·®è‡³å°‘ä¸º x.</li>
<li>å‡è®¾ä¸Šä¸€é¢—é€‰çš„ç³–æœä»·æ ¼æ˜¯ last_priceï¼Œåœ¨æ•°ç»„ä¸­ç»§ç»­å¾€åæ‰¾ï¼Œç›´åˆ°æ‰¾åˆ°ç¬¬ä¸€ä¸ª <code>price[i]</code> æ»¡è¶³ <code>price[i] &gt;= last_price + x</code>. æŠŠè¿™é¢—ç³–æœé€‰å…¥ç¤¼ç›’ï¼Œæ›´æ–° <code>last_price = price[i]</code>ï¼Œç„¶åç»§ç»­ç”¨åŒæ ·çš„æ–¹æ³•å¯»æ‰¾ä¸‹ä¸€é¢—ã€‚</li>
</ul>
</li>
<li>
<p>ç»Ÿè®¡ä¸€å…±é€‰å‡ºäº†å¤šå°‘é¢—ç³–æœã€‚å¦‚æœæœ€ç»ˆé€‰å‡ºçš„ç³–æœæ•°é‡ <code>count &gt;= k</code>ï¼Œé‚£ä¹ˆè¯´æ˜ç”œèœœåº¦ x æ˜¯å¯ä»¥å®ç°çš„ï¼Œè¿”å› true. å¦åˆ™ï¼Œè¿”å› false.</p>
</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">bool</span> <span class="nf">check</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">price</span><span class="p">,</span> <span class="kt">int</span> <span class="n">k</span><span class="p">,</span> <span class="kt">int</span> <span class="n">target</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// greedy: always choose first
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="kt">int</span> <span class="n">count</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kt">int</span> <span class="n">last_price</span> <span class="o">=</span> <span class="n">price</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">price</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="p">(</span><span class="n">price</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="n">last_price</span> <span class="o">&gt;=</span> <span class="n">target</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="n">count</span><span class="o">++</span><span class="p">;</span>          
</span></span><span class="line"><span class="cl">                <span class="n">last_price</span> <span class="o">=</span> <span class="n">price</span><span class="p">[</span><span class="n">i</span><span class="p">];</span> 
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">count</span> <span class="o">&gt;=</span> <span class="n">k</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">maximumTastiness</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">price</span><span class="p">,</span> <span class="kt">int</span> <span class="n">k</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">sort</span><span class="p">(</span><span class="n">price</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">price</span><span class="p">.</span><span class="n">end</span><span class="p">());</span>
</span></span><span class="line"><span class="cl">        <span class="kt">int</span> <span class="n">left</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">right</span> <span class="o">=</span> <span class="n">ranges</span><span class="o">::</span><span class="n">max</span><span class="p">(</span><span class="n">price</span><span class="p">)</span> <span class="o">-</span> <span class="n">price</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">        <span class="kt">int</span> <span class="n">ans</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">while</span> <span class="p">(</span><span class="n">left</span> <span class="o">&lt;=</span> <span class="n">right</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="kt">int</span> <span class="n">mid</span> <span class="o">=</span> <span class="n">left</span> <span class="o">+</span> <span class="p">(</span><span class="n">right</span> <span class="o">-</span> <span class="n">left</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="p">(</span><span class="n">check</span><span class="p">(</span><span class="n">price</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="n">mid</span><span class="p">))</span> <span class="p">{</span>  <span class="c1">// can find k-1 diff &gt;= mid Tastiness
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                <span class="n">ans</span> <span class="o">=</span> <span class="n">mid</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                <span class="n">left</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="n">right</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">ans</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="question-type-2-select-the-half-where-the-answer-is-located">Question Type 2: Select the Half where the Answer is Located<a hidden class="anchor" aria-hidden="true" href="#question-type-2-select-the-half-where-the-answer-is-located">#</a></h1>
<h2 id="162-find-peak-element">162. Find Peak Element<a hidden class="anchor" aria-hidden="true" href="#162-find-peak-element">#</a></h2>
<p><a href="https://leetcode.cn/problems/find-peak-element/">é¢˜ç›®ç½‘å€</a>. ä¼ ç»Ÿçš„äºŒåˆ†æŸ¥æ‰¾ä¾èµ–äºæ•°ç»„çš„ å•è°ƒæ€§ (å®Œå…¨æœ‰åº). æ¯”å¦‚ï¼Œæˆ‘ä»¬è¦æŸ¥æ‰¾ä¸€ä¸ªæ•° targetï¼Œæˆ‘ä»¬ä¼šæ¯”è¾ƒ <code>nums[mid]</code> å’Œ targetï¼š</p>
<ul>
<li>å¦‚æœ <code>nums[mid] &lt; target</code>ï¼Œæˆ‘ä»¬å°±çŸ¥é“ target ä¸å¯èƒ½åœ¨å·¦åŠéƒ¨åˆ†ã€‚</li>
<li>å¦‚æœ <code>nums[mid] &gt; target</code>ï¼Œæˆ‘ä»¬å°±çŸ¥é“ target ä¸å¯èƒ½åœ¨å³åŠéƒ¨åˆ†ã€‚</li>
</ul>
<p>ç„¶è€Œï¼Œåœ¨æœ¬é¢˜ä¸­ï¼Œæ•°ç»„ nums ä¸æ˜¯æœ‰åºçš„ã€‚é‚£å‡­ä»€ä¹ˆå¯ä»¥èˆå¼ƒä¸€åŠçš„åŒºé—´å‘¢ï¼Ÿè¿™é‡Œçš„å…³é”®åœ¨äºï¼Œæˆ‘ä»¬ä¸æ˜¯åœ¨æ‰¾ä¸€ä¸ªç‰¹å®šçš„å€¼ï¼Œè€Œæ˜¯åœ¨æ‰¾ä¸€ä¸ªæ»¡è¶³ <strong>ç‰¹å®šæ€§è´¨</strong> (å³ä¸ºå³°å€¼) çš„å…ƒç´ ã€‚äºŒåˆ†æŸ¥æ‰¾çš„æœ¬è´¨æ˜¯é€šè¿‡æ¯ä¸€æ­¥åˆ¤æ–­ï¼Œå°†æœç´¢ç©ºé—´ç¼©å°ä¸€åŠã€‚æˆ‘ä»¬æ¥çœ‹çœ‹åœ¨è¿™ä¸ªé—®é¢˜é‡Œå¦‚ä½•åšåˆ°è¿™ä¸€ç‚¹ã€‚</p>
<p>æˆ‘ä»¬å–ä¸­é—´å…ƒç´  <code>nums[mid]</code>ï¼Œå¹¶è§‚å¯Ÿå®ƒå’Œå®ƒå³è¾¹é‚»å±… <code>nums[mid+1]</code> çš„å…³ç³»ï¼š</p>
<ol>
<li>å¦‚æœ <code>nums[mid] &lt; nums[mid+1]</code>:</li>
</ol>
<p>è¿™æ„å‘³ç€ <code>nums[mid]</code> æœ¬èº«è‚¯å®šä¸æ˜¯å³°å€¼ (å› ä¸ºå®ƒæ¯”å³è¾¹çš„å°)ã€‚æ›´é‡è¦çš„æ˜¯ï¼Œè¿™è¡¨æ˜ ä» mid åˆ° mid+1 å¤„ï¼Œæ•°ç»„æ˜¯ä¸Šå¡çš„ã€‚æ—¢ç„¶æ˜¯ä¸Šå¡ï¼Œé‚£ä¹ˆåªè¦æˆ‘ä»¬ä¸€ç›´å¾€å³èµ°å°±å¿…ç„¶ ä¼šé‡åˆ°ä¸€ä¸ªå³°å€¼ã€‚ä¸ºä»€ä¹ˆï¼Ÿå› ä¸ºæ•°ç»„çš„å³è¾¹ç•Œæ˜¯è´Ÿæ— ç©·ï¼Œä½ ä¸å¯èƒ½æ— é™åœ°ä¸Šå¡ï¼Œæ€»ä¼šæœ‰ä¸€ä¸ªç‚¹å¼€å§‹ä¸‹å¡ï¼Œé‚£ä¸ªè½¬æŠ˜ç‚¹å°±æ˜¯ä¸€ä¸ªå³°å€¼ã€‚</p>
<p>å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥æ–­å®šåœ¨ mid çš„å³ä¾§åŒºåŸŸ (å³ <code>[mid + 1, right]</code>) å¿…å®šå­˜åœ¨ä¸€ä¸ªå³°å€¼ã€‚äºæ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥å®‰å…¨åœ°èˆå¼ƒå·¦åŠéƒ¨åˆ†ï¼Œä»¤ <code>left = mid + 1</code>.</p>
<ol start="2">
<li>å¦‚æœ <code>nums[mid] &gt; nums[mid+1]</code>:</li>
</ol>
<p>è¿™æ„å‘³ç€ <code>nums[mid]</code> æœ¬èº«å¯èƒ½æ˜¯ä¸€ä¸ªå³°å€¼ (å¦‚æœå®ƒä¹Ÿå¤§äºå·¦è¾¹çš„ <code>nums[mid-1]</code>). æ›´é‡è¦çš„æ˜¯ï¼Œè¿™è¡¨æ˜ ä» mid åˆ° mid+1 å¤„ï¼Œæ•°ç»„æ˜¯ä¸‹å¡çš„ã€‚æ—¢ç„¶æ˜¯ä¸‹å¡ï¼Œé‚£ä¹ˆå¾€å·¦çœ‹ï¼Œmid çš„å·¦ä¾§åŒºåŸŸå¿…ç„¶å­˜åœ¨ä¸€ä¸ªå³°å€¼ã€‚ä¸ºä»€ä¹ˆï¼Ÿå› ä¸ºæ•°ç»„çš„å·¦è¾¹ç•Œæ˜¯è´Ÿæ— ç©·ï¼Œä¸å¯èƒ½æ— é™åœ°ä¸‹å¡ã€‚åœ¨ mid çš„å·¦è¾¹ï¼Œè¦ä¹ˆ <code>nums[mid]</code> è‡ªå·±å°±æ˜¯ä¸€ä¸ªå³°å€¼ï¼Œè¦ä¹ˆåœ¨å®ƒå·¦è¾¹çš„æŸä¸ªå…ƒç´ æ˜¯å³°å€¼ã€‚</p>
<p>å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ æ–­å®š åœ¨ mid åŠ mid çš„å·¦ä¾§åŒºåŸŸ (å³ <code>[left, mid]</code>) å¿…å®šå­˜åœ¨ä¸€ä¸ªå³°å€¼ã€‚äºæ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥å®‰å…¨åœ°èˆå¼ƒå³åŠéƒ¨åˆ†ï¼Œä»¤ <code>right = mid - 1</code>.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">findPeakElement</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">nums</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">nums</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kt">int</span> <span class="n">left</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">right</span> <span class="o">=</span> <span class="n">nums</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">-</span> <span class="mi">2</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">while</span> <span class="p">(</span><span class="n">left</span> <span class="o">&lt;=</span> <span class="n">right</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="kt">int</span> <span class="n">mid</span> <span class="o">=</span> <span class="n">left</span> <span class="o">+</span> <span class="p">(</span><span class="n">right</span> <span class="o">-</span> <span class="n">left</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">nums</span><span class="p">[</span><span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span><span class="p">])</span> <span class="p">{</span>  <span class="c1">// summit is at left of mid
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                <span class="n">right</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="n">left</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">left</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="153-find-minimum-in-rotated-sorted-array">153. Find Minimum in Rotated Sorted Array<a hidden class="anchor" aria-hidden="true" href="#153-find-minimum-in-rotated-sorted-array">#</a></h2>
<p><a href="https://leetcode.cn/problems/find-minimum-in-rotated-sorted-array/description/">é¢˜ç›®ç½‘å€</a>. åˆ©ç”¨æ—‹è½¬çš„ç‰¹æ€§ï¼Œå‡è®¾æ•°ç»„ <code>[0, 1, 2, 4, 5, 6, 7]</code> æ—‹è½¬åå˜æˆ <code>[4, 5, 6, 7, 0, 1, 2]</code>. æ—‹è½¬åçš„æ•°ç»„æœ‰ä»¥ä¸‹ç‰¹ç‚¹:</p>
<ul>
<li>å®ƒè¢«åˆ†æˆäº†ä¸¤ä¸ªå„è‡ªæœ‰åºçš„éƒ¨åˆ†  <code>[4, 5, 6, 7]</code> å’Œ <code>[0, 1, 2]</code>.</li>
<li>ç¬¬ä¸€éƒ¨åˆ†çš„æ‰€æœ‰å…ƒç´ éƒ½å¤§äºç¬¬äºŒéƒ¨åˆ†çš„æ‰€æœ‰å…ƒç´ ã€‚</li>
</ul>
<p>æœ€å°å€¼å°±æ˜¯ç¬¬äºŒéƒ¨åˆ†çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œå®ƒä¹Ÿæ˜¯æ•´ä¸ªæ•°ç»„ä¸­å”¯ä¸€ä¸€ä¸ªæ¯”å®ƒå‰ä¸€ä¸ªå…ƒç´ å°çš„æ•° (æŠŠæ•°ç»„çœ‹ä½œç¯å½¢). äºŒåˆ†æŸ¥æ‰¾çš„æ ¸å¿ƒæ˜¯æ¯æ¬¡éƒ½èˆå¼ƒä¸€åŠä¸å¯èƒ½æ˜¯ç­”æ¡ˆçš„åŒºé—´ã€‚é‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•åˆ¤æ–­è¯¥èˆå¼ƒå“ªä¸€åŠå‘¢ï¼Ÿå…³é”®åœ¨äº <code>nums[mid]</code> å’Œæ•°ç»„ç«¯ç‚¹ <code>nums[right]</code> çš„æ¯”è¾ƒã€‚</p>
<ol>
<li><code>nums[mid] &gt; nums[right]</code>: è¯´æ˜ mid è‚¯å®šåœ¨ç¬¬ä¸€æ®µè¾ƒå¤§çš„æœ‰åºæ•°ç»„é‡Œã€‚</li>
</ol>
<p>ä¾‹å¦‚ä¸€å¼€å§‹åœ¨ <code>[4, 5, 6, 7, 0, 1, 2]</code> ä¸­ï¼Œright æŒ‡å‘ 2, mid æŒ‡å‘ 7ï¼Œé‚£ä¹ˆè¯´æ˜ mid åœ¨ç¬¬ä¸€æ®µï¼Œé‚£ä¹ˆæœ€å°å€¼ (ä¹Ÿå°±æ˜¯ç¬¬äºŒæ®µçš„å¼€å¤´) ä¸€å®šåœ¨ mid çš„å³è¾¹ã€‚æ‰€ä»¥ï¼Œå¯ä»¥å®‰å…¨åœ°èˆå¼ƒ <code>[left, mid]</code> è¿™ä¸ªåŒºé—´, <code>left = mid + 1</code>.</p>
<ol start="2">
<li><code>nums[mid] &lt;= nums[right]</code>: è¯´æ˜ mid è‚¯å®šåœ¨ç¬¬äºŒæ®µè¾ƒå°çš„æœ‰åºæ•°ç»„é‡Œï¼Œæˆ–è€…æ˜¯æ•°ç»„æ²¡æœ‰æ—‹è½¬çš„æƒ…å†µã€‚</li>
</ol>
<p>ä¾‹å¦‚ç¬¬äºŒæ¬¡å¾ªç¯åœ¨ <code>[4, 5, 6, 7, 0, 1, 2]</code> ä¸­ï¼Œ mid æŒ‡å‘ 1ï¼Œright æŒ‡å‘ 2ï¼Œè¯´æ˜ mid åœ¨ç¬¬äºŒæ®µï¼Œé‚£ä¹ˆæœ€å°å€¼å¯èƒ½æ˜¯ <code>nums[mid]</code> æœ¬èº«ï¼Œæˆ–è€…åœ¨ mid çš„å·¦è¾¹ã€‚ä¸ºäº†ä¸¥æ ¼åº”ç”¨é—­åŒºé—´çš„å†™æ³•ï¼Œæˆ‘ä»¬å¿…é¡»åšä¸€äº›æ¡ä»¶åˆ¤æ–­å¤„ç†ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">findMin</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">nums</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">nums</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">n</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> 
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="n">nums</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">nums</span><span class="p">[</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">])</span>  <span class="c1">// rotate n times
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="k">return</span> <span class="n">nums</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">        <span class="kt">int</span> <span class="n">left</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">right</span> <span class="o">=</span> <span class="n">nums</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">while</span> <span class="p">(</span><span class="n">left</span> <span class="o">&lt;=</span> <span class="n">right</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="kt">int</span> <span class="n">mid</span> <span class="o">=</span> <span class="n">left</span> <span class="o">+</span> <span class="p">(</span><span class="n">right</span> <span class="o">-</span> <span class="n">left</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="p">(</span><span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="o">&amp;&amp;</span> <span class="n">nums</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">nums</span><span class="p">[</span><span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span><span class="p">])</span>  <span class="c1">// find maximum
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                <span class="k">return</span> <span class="n">nums</span><span class="p">[</span><span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="p">(</span><span class="n">mid</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">nums</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">nums</span><span class="p">[</span><span class="n">mid</span> <span class="o">-</span> <span class="mi">1</span><span class="p">])</span>  <span class="c1">// find minimum
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                <span class="k">return</span> <span class="n">nums</span><span class="p">[</span><span class="n">mid</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">nums</span><span class="p">[</span><span class="n">right</span><span class="p">])</span> <span class="p">{</span>  <span class="c1">// minimum at right slope
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                <span class="n">left</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="n">right</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">nums</span><span class="p">[</span><span class="n">left</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="33-search-in-rotated-sorted-array">33. Search in Rotated Sorted Array<a hidden class="anchor" aria-hidden="true" href="#33-search-in-rotated-sorted-array">#</a></h2>
<p><a href="https://leetcode.cn/problems/search-in-rotated-sorted-array/description/">é¢˜ç›®ç½‘å€</a>. å’Œç¬¬ 153 é¢˜ä¸€æ ·ï¼Œæ•°ç»„çš„æ•´ä½“å•è°ƒæ€§è¢«ç ´åäº†ã€‚ä¸€ä¸ªç®€å•çš„ <code>if (target &lt; nums[mid])</code> åˆ¤æ–­æ— æ³•å‘Šè¯‰æˆ‘ä»¬åº”è¯¥å»å·¦è¾¹è¿˜æ˜¯å³è¾¹ã€‚ä¾‹å¦‚ï¼Œåœ¨ <code>[4,5,6,7,0,1,2]</code> ä¸­æœç´¢ <code>target = 0</code>ï¼Œç¬¬ä¸€æ¬¡å¾ªç¯ <code>mid = 7</code>ï¼Œè™½ç„¶ <code>0 &lt; 7</code>ï¼Œä½† 0 å´åœ¨ 7 çš„å³è¾¹ã€‚</p>
<p>ä½†æ— è®ºæ•°ç»„å¦‚ä½•æ—‹è½¬ï¼Œå½“æˆ‘ä»¬å–ä¸­ç‚¹ mid æ—¶ï¼Œ<code>[left, mid]</code> å’Œ <code>[mid, right]</code> è¿™ä¸¤ä¸ªåŒºé—´ä¸­ï¼Œè‡³å°‘æœ‰ä¸€ä¸ªæ˜¯å®Œå…¨æœ‰åºçš„ã€‚é¦–å…ˆåˆ¤æ–­ mid æ‰€æŒ‡å‘çš„ä½ç½®æ˜¯å¦ä¸º target. ç„¶åæˆ‘ä»¬å¯ä»¥åˆ¤æ–­ <code>target</code> æ˜¯å¦å­˜åœ¨æœ‰åºéƒ¨åˆ†çš„å­æ•°ç»„ä¸­æ¥ç§»åŠ¨æŒ‡é’ˆï¼Œå¦‚æœå¾ªç¯ç»“æŸäº†ï¼Œè¯´æ˜æ‰¾ä¸åˆ°ã€‚</p>
<ol>
<li>nums[left] &lt;= nums[mid]: è¯´æ˜ä» left åˆ° mid çš„å·¦åŠéƒ¨åˆ†æ˜¯å®Œå…¨æœ‰åºçš„ã€‚</li>
</ol>
<p>æ—¢ç„¶å·¦åŠè¾¹æœ‰åºï¼Œæˆ‘ä»¬å°±å¯ä»¥å‡†ç¡®åˆ¤æ–­ target æ˜¯å¦è½åœ¨è¿™ä¸ªåŒºé—´å†…ï¼šå¦‚æœ <code>target &gt;= nums[left]</code> å¹¶ä¸” <code>target &lt; nums[mid]</code>ï¼Œé‚£ä¹ˆ target å°±åœ¨è¿™ä¸ªæœ‰åºçš„å·¦åŠéƒ¨åˆ†ã€‚æˆ‘ä»¬å°±å»å·¦è¾¹æ‰¾ï¼Œæ›´æ–° <code>right = mid - 1</code>.å¦åˆ™ï¼Œtarget å°±ä¸åœ¨æœ‰åºçš„å·¦åŠéƒ¨åˆ†ï¼Œé‚£å®ƒåªå¯èƒ½åœ¨æ— åºçš„å³åŠéƒ¨åˆ†ã€‚æˆ‘ä»¬å°±å»å³è¾¹æ‰¾ï¼Œæ›´æ–° <code>left = mid + 1</code>.</p>
<ol start="2">
<li><code>nums[left] &gt; nums[mid]</code>: è¯´æ˜æ—‹è½¬ç‚¹åœ¨ <code>[left, mid]</code> ä¹‹é—´ï¼Œå› æ­¤ä» mid åˆ° right çš„å³åŠéƒ¨åˆ†æ˜¯å®Œå…¨æœ‰åºçš„ã€‚</li>
</ol>
<p>æ—¢ç„¶å³åŠè¾¹æœ‰åºï¼Œæˆ‘ä»¬å°±å¯ä»¥å‡†ç¡®åˆ¤æ–­ target æ˜¯å¦è½åœ¨è¿™ä¸ªåŒºé—´å†…ï¼šæœ <code>target &gt; nums[mid]</code> å¹¶ä¸”<code> target &lt;= nums[right]</code>ï¼Œé‚£ä¹ˆ target å°±åœ¨è¿™ä¸ªæœ‰åºçš„å³åŠéƒ¨åˆ†ã€‚æˆ‘ä»¬å°±å»å³è¾¹æ‰¾ï¼Œæ›´æ–° <code>left = mid + 1</code>. å¦åˆ™ï¼Œtarget å°±ä¸åœ¨æœ‰åºçš„å³åŠéƒ¨åˆ†ï¼Œé‚£å®ƒåªå¯èƒ½åœ¨æ— åºçš„å·¦åŠéƒ¨åˆ†ã€‚æˆ‘ä»¬å°±å»å·¦è¾¹æ‰¾ï¼Œæ›´æ–° <code>right = mid - 1</code>.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">search</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">nums</span><span class="p">,</span> <span class="kt">int</span> <span class="n">target</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kt">int</span> <span class="n">left</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">right</span> <span class="o">=</span> <span class="n">nums</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">while</span> <span class="p">(</span><span class="n">left</span> <span class="o">&lt;=</span> <span class="n">right</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="kt">int</span> <span class="n">mid</span> <span class="o">=</span> <span class="n">left</span> <span class="o">+</span> <span class="p">(</span><span class="n">right</span> <span class="o">-</span> <span class="n">left</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">==</span> <span class="n">target</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                <span class="k">return</span> <span class="n">mid</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">nums</span><span class="p">[</span><span class="n">left</span><span class="p">])</span> <span class="p">{</span>  <span class="c1">// [left, mid] is sorted
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                <span class="k">if</span> <span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">target</span> <span class="o">&amp;&amp;</span> <span class="n">nums</span><span class="p">[</span><span class="n">left</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">target</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                    <span class="n">right</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                <span class="k">else</span>
</span></span><span class="line"><span class="cl">                    <span class="n">left</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span> <span class="k">else</span>  <span class="p">{</span>  <span class="c1">// [mid, right] is sorted
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                <span class="k">if</span> <span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">target</span> <span class="o">&amp;&amp;</span> <span class="n">nums</span><span class="p">[</span><span class="n">right</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">target</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                    <span class="n">left</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                <span class="k">else</span>
</span></span><span class="line"><span class="cl">                    <span class="n">right</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="154-find-minimum-in-rotated-sorted-array-ii">154. Find Minimum in Rotated Sorted Array II<a hidden class="anchor" aria-hidden="true" href="#154-find-minimum-in-rotated-sorted-array-ii">#</a></h2>
<p><a href="https://leetcode.cn/problems/find-minimum-in-rotated-sorted-array-ii/description/">é¢˜ç›®ç½‘å€</a>. è¿™é“é¢˜å’Œ 153 æœ€å¤§çš„åŒºåˆ«ï¼Œä¹Ÿæ˜¯å”¯ä¸€çš„éš¾ç‚¹ï¼Œå°±åœ¨äºé‡å¤å…ƒç´ çš„å­˜åœ¨ï¼Œä½¿å¾—æˆ‘ä»¬æ— æ³•åœ¨æ‰€æœ‰æƒ…å†µä¸‹é€šè¿‡æ¯”è¾ƒ <code>nums[mid]</code> å’Œç«¯ç‚¹æ¥ç¡®å®šèŒƒå›´ã€‚å½“ä¸¥æ ¼å°äºå’Œä¸¥æ ¼å¤§äºç«¯ç‚¹çš„æƒ…å†µä¸‹å’Œä¹‹å‰ç›¸åŒã€‚<code>nums[mid] == nums[right]</code> æ˜¯æˆ‘ä»¬æ— æ³•åˆ¤æ–­çš„æƒ…å†µã€‚ä½†æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥ç¡®å®šçš„æ˜¯ <code>nums[right]</code> è‚¯å®šä¸æ˜¯å”¯ä¸€çš„æœ€å°å€¼å€™é€‰è€… (å› ä¸º mid ä½ç½®è¿˜æœ‰ä¸€ä¸ªå’Œå®ƒä¸€æ ·å¤§çš„æ•°). å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥å®‰å…¨åœ°å°† right æŒ‡é’ˆå‘å·¦ç§»åŠ¨ä¸€ä½ï¼ŒæŠŠ <code>nums[right]</code> è¿™ä¸ªå…ƒç´ å»æ‰ï¼Œç„¶ååœ¨ç¼©å°åçš„åŒºé—´é‡Œç»§ç»­å¯»æ‰¾ã€‚</p>
<p>æœ€å¥½çš„å’Œå¹³å‡æƒ…å†µä¸‹ï¼Œå¤§éƒ¨åˆ†æ—¶é—´è¿˜æ˜¯åœ¨è¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾ï¼Œå¤æ‚åº¦æ˜¯ $O(\log n)$. ä½†åœ¨æ•°ç»„æ‰€æœ‰å…ƒç´ éƒ½ç›¸ç­‰çš„æœ€åçš„æƒ…å†µä¸‹ï¼Œä¾‹å¦‚æ•°ç»„æ˜¯ <code>[1, 1, 1, 1, 1]</code>ï¼Œmid å’Œ right æŒ‡å‘çš„å…ƒç´ ä¼šä¸€ç›´ç›¸ç­‰ï¼Œç®—æ³•ä¸€ç›´ä¼šè¿›è¡Œ right&ndash;ï¼Œçº¿æ€§åœ°ä»å³å‘å·¦æ‰«æï¼Œæ—¶é—´å¤æ‚åº¦å˜ä¸º $O(n)$. è¿™æ˜¯ä¸ºäº†å¤„ç†é‡å¤å…ƒç´ æ‰€å¿…é¡»ä»˜å‡ºçš„ä»£ä»·ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">findMin</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">nums</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kt">int</span> <span class="n">left</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">right</span> <span class="o">=</span> <span class="n">nums</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">while</span> <span class="p">(</span><span class="n">left</span> <span class="o">&lt;=</span> <span class="n">right</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="kt">int</span> <span class="n">mid</span> <span class="o">=</span> <span class="n">left</span> <span class="o">+</span> <span class="p">(</span><span class="n">right</span> <span class="o">-</span> <span class="n">left</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="p">(</span><span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">&lt;</span> <span class="n">nums</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">&amp;&amp;</span> <span class="n">nums</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">nums</span><span class="p">[</span><span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">                <span class="k">return</span> <span class="n">nums</span><span class="p">[</span><span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="p">(</span><span class="n">mid</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">nums</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">nums</span><span class="p">[</span><span class="n">mid</span> <span class="o">-</span> <span class="mi">1</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">                <span class="k">return</span> <span class="n">nums</span><span class="p">[</span><span class="n">mid</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">nums</span><span class="p">[</span><span class="n">right</span><span class="p">])</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="n">left</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span> <span class="k">else</span> <span class="nf">if</span> <span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">nums</span><span class="p">[</span><span class="n">right</span><span class="p">])</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="n">right</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>   <span class="c1">// if nums[right] is minmimum, at least nums[mid] is also.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                <span class="n">right</span><span class="o">--</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">nums</span><span class="p">[</span><span class="n">left</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span></code></pre></td></tr></table>
</div>
</div>

  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="http://localhost:1313/tags/binary-search/">Binary Search</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="http://localhost:1313/blogs/leetcode/04_chainlist/">
    <span class="title">Â« Prev</span>
    <br>
    <span>04 Chain List</span>
  </a>
  <a class="next" href="http://localhost:1313/blogs/tx8_backend/">
    <span class="title">Next Â»</span>
    <br>
    <span>TX8 Backend</span>
  </a>
</nav>

  </footer><script src="https://giscus.app/client.js"
        data-repo="jamesnulliu/jamesnulliu.github.io"
        data-repo-id="R_kgDOMPCQIw"
        data-category="Announcements"
        data-category-id="DIC_kwDOMPCQI84Cgb2t"
        data-mapping="pathname"
        data-strict="0"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="bottom"
        data-theme="preferred_color_scheme"
        data-lang="en"
        crossorigin="anonymous"
        async>
</script>
</article>
    </main>
    
<footer class="footer">
        <span>Â© 2024-2025 WITHER</span> Â· 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
